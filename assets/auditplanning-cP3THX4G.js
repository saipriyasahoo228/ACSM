import{r as l,j as e}from"./index-DeCPM1YT.js";import{B as W,C as w,T as I,a as L,b as k,c as j,d as r,e as q}from"./TableRow-Cd9L6edy.js";import{C as N}from"./CardHeader-BFOCdbev.js";import{B as A}from"./Button-i0LS_vGv.js";import{C as F}from"./CardContent-DuW-pjc9.js";import{T as s}from"./TextField-RAEaaxPg.js";import{I as m}from"./InputAdornment-DyuYPr7S.js";import{S as B}from"./Search-C-psGFWq.js";import{S as D}from"./Stack-Cb_zqfoO.js";import{I as C}from"./IconButton-oK9S63L7.js";import{E as R}from"./Edit-DGiN9sfY.js";import{D as H}from"./Delete-PXtfudQB.js";import{D as M,a as O,b as U,c as z}from"./DialogTitle-D5MRwTrG.js";import{C as Q}from"./Close-DenZmEgU.js";import{M as y}from"./MenuItem-BBKtsJ_f.js";import{P as Y}from"./People-U-CYK57U.js";import{C as $}from"./CalendarToday-CE1zo_3e.js";import{L as G}from"./LocationOn-BaBUObEn.js";import"./clsx-B-dksMZM.js";import"./ButtonBase-Cikulz_k.js";import"./TransitionGroupContext-CNIvG2Vj.js";import"./InputLabel-uQorTdpH.js";import"./Select-B0BFEktc.js";import"./index-DeXogL32.js";import"./Modal-CUDL2x5c.js";import"./Transition-B84HZYJ-.js";import"./isMuiElement-DPWNH1dL.js";import"./dividerClasses-ifTG4Um1.js";const J=["Internal Audit","Statutory Audit"],K=["Weekly","Monthly","Quarterly","Yearly"],V=["EHS","Maintenance","Operations","HR","Procurement"],Se=()=>{const[S,p]=l.useState(!1),[o,h]=l.useState([]),[d,T]=l.useState(""),[u,x]=l.useState(null),[a,c]=l.useState({auditId:"",auditType:"",frequency:"",department:"",auditorName:"",scheduleDate:"",location:"",status:"Planned"}),g=(t=null)=>{if(t)c(t),x(t.auditId);else{const i=`AUD-${(o.length+1).toString().padStart(3,"0")}`;c({auditId:i,auditType:"",frequency:"",department:"",auditorName:"",scheduleDate:"",location:"",status:"Planned"}),x(null)}p(!0)},f=()=>{p(!1),x(null),c({auditId:"",auditType:"",frequency:"",department:"",auditorName:"",scheduleDate:"",location:"",status:"Planned"})},n=t=>{const{name:i,value:P}=t.target;c({...a,[i]:P})},v=()=>{if(!a.auditType||!a.scheduleDate||!a.auditorName){alert("Please fill all required fields.");return}h(u?o.map(t=>t.auditId===u?a:t):[...o,a]),f()},E=t=>{window.confirm("Are you sure you want to delete this audit?")&&h(o.filter(i=>i.auditId!==t))},b=o.filter(t=>t.auditId.toLowerCase().includes(d.toLowerCase())||t.auditType.toLowerCase().includes(d.toLowerCase())||t.department.toLowerCase().includes(d.toLowerCase()));return e.jsxs(W,{sx:{p:3},children:[e.jsxs(w,{sx:{borderLeft:"6px solid #0A3A6E",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[e.jsx(N,{title:e.jsx(I,{variant:"h6",sx:{fontWeight:"bold",color:"#0A3A6E"},children:"Audit Planning & Scheduling"}),action:e.jsx(A,{variant:"contained",sx:{bgcolor:"#0A3A6E"},onClick:()=>g(),children:"+ Schedule Audit"})}),e.jsxs(F,{children:[e.jsx(s,{placeholder:"Search by Audit ID, Type, or Department",fullWidth:!0,value:d,onChange:t=>T(t.target.value),InputProps:{startAdornment:e.jsx(m,{position:"start",children:e.jsx(B,{})})},sx:{mb:2}}),e.jsxs(L,{children:[e.jsx(k,{sx:{background:"#E3F2FD"},children:e.jsx(j,{children:["Audit ID","Type","Frequency","Department","Auditor","Date","Location","Status","Actions"].map(t=>e.jsx(r,{sx:{fontWeight:"bold",color:"#0A3A6E"},children:t},t))})}),e.jsx(q,{children:b.length>0?b.map(t=>e.jsxs(j,{children:[e.jsx(r,{children:t.auditId}),e.jsx(r,{children:t.auditType}),e.jsx(r,{children:t.frequency}),e.jsx(r,{children:t.department}),e.jsx(r,{children:t.auditorName}),e.jsx(r,{children:t.scheduleDate}),e.jsx(r,{children:t.location}),e.jsx(r,{children:e.jsx(I,{sx:{color:t.status==="Planned"?"#1E88E5":t.status==="Completed"?"#2E7D32":"#F9A825",fontWeight:"bold"},children:t.status})}),e.jsx(r,{children:e.jsxs(D,{direction:"row",spacing:1,children:[e.jsx(C,{size:"small",color:"primary",onClick:()=>g(t),children:e.jsx(R,{})}),e.jsx(C,{size:"small",color:"error",onClick:()=>E(t.auditId),children:e.jsx(H,{})})]})})]},t.auditId)):e.jsx(j,{children:e.jsx(r,{colSpan:9,align:"center",children:"No audits scheduled yet."})})})]})]})]}),e.jsxs(M,{open:S,onClose:f,fullWidth:!0,maxWidth:"sm",children:[e.jsxs(O,{sx:{bgcolor:"#0A3A6E",color:"#fff",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u?"Update Audit Schedule":"Schedule New Audit",e.jsx(C,{onClick:()=>p(!1),sx:{color:"#fff"},children:e.jsx(Q,{})})]}),e.jsx(U,{sx:{mt:2,borderRadius:"8px"},children:e.jsxs(D,{spacing:2,sx:{mt:2},children:[e.jsx(s,{label:"Audit ID",name:"auditId",value:a.auditId,fullWidth:!0,disabled:!0}),e.jsx(s,{select:!0,label:"Audit Type",name:"auditType",value:a.auditType,onChange:n,fullWidth:!0,children:J.map(t=>e.jsx(y,{value:t,children:t},t))}),e.jsx(s,{select:!0,label:"Frequency",name:"frequency",value:a.frequency,onChange:n,fullWidth:!0,children:K.map(t=>e.jsx(y,{value:t,children:t},t))}),e.jsx(s,{select:!0,label:"Department",name:"department",value:a.department,onChange:n,fullWidth:!0,children:V.map(t=>e.jsx(y,{value:t,children:t},t))}),e.jsx(s,{label:"Auditor Name",name:"auditorName",value:a.auditorName,onChange:n,fullWidth:!0,InputProps:{startAdornment:e.jsx(m,{position:"start",children:e.jsx(Y,{})})}}),e.jsx(s,{label:"Schedule Date",name:"scheduleDate",type:"date",value:a.scheduleDate,onChange:n,fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(m,{position:"start",children:e.jsx($,{})})}}),e.jsx(s,{label:"Location",name:"location",value:a.location,onChange:n,fullWidth:!0,InputProps:{startAdornment:e.jsx(m,{position:"start",children:e.jsx(G,{})})}})]})}),e.jsxs(z,{children:[e.jsx(A,{onClick:f,children:"Cancel"}),e.jsx(A,{onClick:v,variant:"contained",sx:{bgcolor:"#0A3A6E"},children:u?"Update Audit":"Save Audit"})]})]})]})};export{Se as default};
