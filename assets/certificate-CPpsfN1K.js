import{j as e,r as x}from"./index-BGNTJdXh.js";import{E as N}from"./jspdf.es.min-DtvNSAWb.js";import{g as S,B as y,T,C as E,a as w,b as W,c as $,d as m,e as a,f as A}from"./TableRow-C4o90wkq.js";import{B as h}from"./Modal-ZZY8XqvI.js";import{A as B}from"./AddCircleOutline-6zg_5VS0.js";import{C as F}from"./Chip-DmP6IT89.js";import{I as f,D as M}from"./Delete-DvimuwFG.js";import{D as z,a as R,b as V,c as H}from"./DialogTitle-DPXgBb11.js";import{G as s}from"./Grid-DSi4ol87.js";import{T as n}from"./TextField-C5AhNtWj.js";import{M as c}from"./MenuItem-L2i8Rv4e.js";import"./clsx-B-dksMZM.js";import"./Transition-DLxW4k6f.js";import"./isMuiElement-D3LEzrLO.js";import"./InputLabel-BM8oE66Y.js";import"./Select-F_BpfjE_.js";import"./index-Czq5OslL.js";const L=S(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),se=()=>{const[C,d]=x.useState(!1),[l,u]=x.useState([]),[r,p]=x.useState({certificateId:"",workerName:"",trainingName:"",completionDate:"",expiryDate:"",status:"Valid"}),g=["Safety Induction","Electrical Safety","Fire Drill"],D=["Amit Kumar","Ravi Singh","S. Nair","P. Das"],b=()=>{const t=`CERT-${String(l.length+1).padStart(3,"0")}`;p({...r,certificateId:t}),d(!0)},j=()=>d(!1),o=t=>{p({...r,[t.target.name]:t.target.value})},I=()=>{u([...l,r]),d(!1)},v=t=>{u(l.filter(i=>i.certificateId!==t))},k=t=>{const i=new N;i.setFontSize(18),i.text("Training Completion Certificate",20,20),i.setFontSize(12),i.text(`Certificate ID: ${t.certificateId}`,20,40),i.text(`Worker Name: ${t.workerName}`,20,50),i.text(`Training Name: ${t.trainingName}`,20,60),i.text(`Completion Date: ${t.completionDate}`,20,70),i.text(`Expiry Date: ${t.expiryDate}`,20,80),i.text(`Status: ${t.status}`,20,90),i.text("This certifies that the above worker has successfully completed the training.",20,110),i.save(`${t.certificateId}.pdf`)};return e.jsxs(y,{sx:{p:3},children:[e.jsx(T,{variant:"h5",sx:{mb:2,color:"#0E4C92"},children:"Certificate Management"}),e.jsx(h,{variant:"outlined",startIcon:e.jsx(B,{}),onClick:b,sx:{mb:2,color:"#0E4C92"},children:"Issue New Certificate"}),e.jsx(E,{sx:{borderLeft:"6px solid #082A52",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",borderRadius:2},children:e.jsx(w,{children:e.jsxs(W,{children:[e.jsx($,{sx:{background:"#E3EAFD"},children:e.jsxs(m,{children:[e.jsx(a,{children:"Certificate ID"}),e.jsx(a,{children:"Worker Name"}),e.jsx(a,{children:"Training Name"}),e.jsx(a,{children:"Completion Date"}),e.jsx(a,{children:"Expiry Date"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Actions"})]})}),e.jsxs(A,{children:[l.map(t=>e.jsxs(m,{children:[e.jsx(a,{children:t.certificateId}),e.jsx(a,{children:t.workerName}),e.jsx(a,{children:t.trainingName}),e.jsx(a,{children:t.completionDate}),e.jsx(a,{children:t.expiryDate}),e.jsx(a,{children:e.jsx(F,{label:t.status,color:t.status==="Valid"?"success":"error",size:"small"})}),e.jsxs(a,{children:[e.jsx(f,{color:"primary",onClick:()=>k(t),children:e.jsx(L,{})}),e.jsx(f,{color:"error",onClick:()=>v(t.certificateId),children:e.jsx(M,{})})]})]},t.certificateId)),l.length===0&&e.jsx(m,{children:e.jsx(a,{colSpan:7,align:"center",children:"No certificates issued yet."})})]})]})})}),e.jsxs(z,{open:C,onClose:j,maxWidth:"sm",fullWidth:!0,children:[e.jsx(R,{sx:{background:"#0E4C92",color:"white"},children:"Issue Certificate"}),e.jsx(V,{dividers:!0,children:e.jsxs(s,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{label:"Certificate ID",name:"certificateId",value:r.certificateId,fullWidth:!0,disabled:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{select:!0,label:"Worker Name",name:"workerName",value:r.workerName,onChange:o,fullWidth:!0,children:D.map(t=>e.jsx(c,{value:t,children:t},t))})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{select:!0,label:"Training Name",name:"trainingName",value:r.trainingName,onChange:o,fullWidth:!0,children:g.map(t=>e.jsx(c,{value:t,children:t},t))})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{type:"date",label:"Completion Date",name:"completionDate",value:r.completionDate,onChange:o,fullWidth:!0,InputLabelProps:{shrink:!0}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{type:"date",label:"Expiry Date",name:"expiryDate",value:r.expiryDate,onChange:o,fullWidth:!0,InputLabelProps:{shrink:!0}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsxs(n,{select:!0,label:"Status",name:"status",value:r.status,onChange:o,fullWidth:!0,children:[e.jsx(c,{value:"Valid",children:"Valid"}),e.jsx(c,{value:"Expired",children:"Expired"})]})})]})}),e.jsxs(H,{children:[e.jsx(h,{onClick:j,children:"Cancel"}),e.jsx(h,{variant:"contained",onClick:I,children:"Save"})]})]})]})};export{se as default};
