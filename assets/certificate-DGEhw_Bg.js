import{r as x,j as e}from"./index-DeCPM1YT.js";import{E as v}from"./jspdf.es.min-zcs_wkLJ.js";import{B as N,T as S,C as T,a as E,b as w,c as h,d as i,e as W}from"./TableRow-Cd9L6edy.js";import{B as u}from"./Button-i0LS_vGv.js";import{A as $}from"./AddCircleOutline-Bzvm37nE.js";import{C as A}from"./CardContent-DuW-pjc9.js";import{C as B}from"./Chip-D7PQ2JTP.js";import{I as p}from"./IconButton-oK9S63L7.js";import{D as F}from"./Download-CTE8ntCV.js";import{D as R}from"./Delete-PXtfudQB.js";import{D as M,a as V,b as z,c as L}from"./DialogTitle-D5MRwTrG.js";import{C as O}from"./Close-DenZmEgU.js";import{G as s}from"./Grid-DCJmtdp8.js";import{T as n}from"./TextField-RAEaaxPg.js";import{M as c}from"./MenuItem-BBKtsJ_f.js";import"./clsx-B-dksMZM.js";import"./ButtonBase-Cikulz_k.js";import"./TransitionGroupContext-CNIvG2Vj.js";import"./Modal-CUDL2x5c.js";import"./Transition-B84HZYJ-.js";import"./isMuiElement-DPWNH1dL.js";import"./InputLabel-uQorTdpH.js";import"./Select-B0BFEktc.js";import"./index-DeXogL32.js";import"./dividerClasses-ifTG4Um1.js";const he=()=>{const[C,d]=x.useState(!1),[l,f]=x.useState([]),[r,j]=x.useState({certificateId:"",workerName:"",trainingName:"",completionDate:"",expiryDate:"",status:"Valid"}),g=["Safety Induction","Electrical Safety","Fire Drill"],D=["Amit Kumar","Ravi Singh","S. Nair","P. Das"],b=()=>{const t=`CERT-${String(l.length+1).padStart(3,"0")}`;j({...r,certificateId:t}),d(!0)},m=()=>d(!1),o=t=>{j({...r,[t.target.name]:t.target.value})},I=()=>{f([...l,r]),d(!1)},k=t=>{f(l.filter(a=>a.certificateId!==t))},y=t=>{const a=new v;a.setFontSize(18),a.text("Training Completion Certificate",20,20),a.setFontSize(12),a.text(`Certificate ID: ${t.certificateId}`,20,40),a.text(`Worker Name: ${t.workerName}`,20,50),a.text(`Training Name: ${t.trainingName}`,20,60),a.text(`Completion Date: ${t.completionDate}`,20,70),a.text(`Expiry Date: ${t.expiryDate}`,20,80),a.text(`Status: ${t.status}`,20,90),a.text("This certifies that the above worker has successfully completed the training.",20,110),a.save(`${t.certificateId}.pdf`)};return e.jsxs(N,{sx:{p:3},children:[e.jsx(S,{variant:"h5",sx:{mb:2,color:"#0E4C92"},children:"Certificate Management"}),e.jsx(u,{variant:"outlined",startIcon:e.jsx($,{}),onClick:b,sx:{mb:2,color:"#0E4C92"},children:"Issue New Certificate"}),e.jsx(T,{sx:{borderLeft:"6px solid #082A52",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",borderRadius:2},children:e.jsx(A,{children:e.jsxs(E,{children:[e.jsx(w,{sx:{background:"#E3EAFD"},children:e.jsxs(h,{children:[e.jsx(i,{children:"Certificate ID"}),e.jsx(i,{children:"Worker Name"}),e.jsx(i,{children:"Training Name"}),e.jsx(i,{children:"Completion Date"}),e.jsx(i,{children:"Expiry Date"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Actions"})]})}),e.jsxs(W,{children:[l.map(t=>e.jsxs(h,{children:[e.jsx(i,{children:t.certificateId}),e.jsx(i,{children:t.workerName}),e.jsx(i,{children:t.trainingName}),e.jsx(i,{children:t.completionDate}),e.jsx(i,{children:t.expiryDate}),e.jsx(i,{children:e.jsx(B,{label:t.status,color:t.status==="Valid"?"success":"error",size:"small"})}),e.jsxs(i,{children:[e.jsx(p,{color:"primary",onClick:()=>y(t),children:e.jsx(F,{})}),e.jsx(p,{color:"error",onClick:()=>k(t.certificateId),children:e.jsx(R,{})})]})]},t.certificateId)),l.length===0&&e.jsx(h,{children:e.jsx(i,{colSpan:7,align:"center",children:"No certificates issued yet."})})]})]})})}),e.jsxs(M,{open:C,onClose:m,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(V,{sx:{background:"#0E4C92",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Issue Certificate",e.jsx(p,{onClick:m,sx:{color:"#fff"},children:e.jsx(O,{})})]}),e.jsx(z,{dividers:!0,children:e.jsxs(s,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{label:"Certificate ID",name:"certificateId",value:r.certificateId,fullWidth:!0,disabled:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{select:!0,label:"Worker Name",name:"workerName",value:r.workerName,onChange:o,fullWidth:!0,children:D.map(t=>e.jsx(c,{value:t,children:t},t))})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{select:!0,label:"Training Name",name:"trainingName",value:r.trainingName,onChange:o,fullWidth:!0,children:g.map(t=>e.jsx(c,{value:t,children:t},t))})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{type:"date",label:"Completion Date",name:"completionDate",value:r.completionDate,onChange:o,fullWidth:!0,InputLabelProps:{shrink:!0}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{type:"date",label:"Expiry Date",name:"expiryDate",value:r.expiryDate,onChange:o,fullWidth:!0,InputLabelProps:{shrink:!0}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsxs(n,{select:!0,label:"Status",name:"status",value:r.status,onChange:o,fullWidth:!0,children:[e.jsx(c,{value:"Valid",children:"Valid"}),e.jsx(c,{value:"Expired",children:"Expired"})]})})]})}),e.jsxs(L,{children:[e.jsx(u,{onClick:m,children:"Cancel"}),e.jsx(u,{variant:"contained",onClick:I,children:"Save"})]})]})]})};export{he as default};
