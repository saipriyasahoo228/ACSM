import{r as m,j as e}from"./index-o2L8XDyT.js";import{E as N}from"./jspdf.es.min-BWn0yX4I.js";import{B as y,T as S,C as T,a as E,b as w,c as x,d as i,e as W}from"./TableRow-LAUI0Gax.js";import{B as h}from"./Modal-DwRNYzNZ.js";import{A as $}from"./AddCircleOutline-DGrwKBLS.js";import{C as A}from"./CardContent-y0pBm6N5.js";import{C as B}from"./Chip-Cg4wui8B.js";import{I as f}from"./IconButton-BsqESdtl.js";import{D as F}from"./Download-DJ5qoVwr.js";import{D as R}from"./Delete-eFAeh1u5.js";import{D as M,a as V,b as z,c as L}from"./DialogTitle--WyXxo1x.js";import{G as s}from"./Grid-B_cFiybh.js";import{T as n}from"./TextField-CqNGJcSQ.js";import{M as c}from"./MenuItem-DD5KVmZ_.js";import"./clsx-B-dksMZM.js";import"./ButtonBase-E3CKQj5Y.js";import"./TransitionGroupContext-Dcol0yJe.js";import"./Transition-Dl-PhuCn.js";import"./isMuiElement-Dd7xnTXW.js";import"./InputLabel-DN3vyk4T.js";import"./Select-BAX3otil.js";import"./index-DMX1Y610.js";import"./dividerClasses-AJeEqX5c.js";const de=()=>{const[C,d]=m.useState(!1),[l,u]=m.useState([]),[r,p]=m.useState({certificateId:"",workerName:"",trainingName:"",completionDate:"",expiryDate:"",status:"Valid"}),g=["Safety Induction","Electrical Safety","Fire Drill"],D=["Amit Kumar","Ravi Singh","S. Nair","P. Das"],b=()=>{const t=`CERT-${String(l.length+1).padStart(3,"0")}`;p({...r,certificateId:t}),d(!0)},j=()=>d(!1),o=t=>{p({...r,[t.target.name]:t.target.value})},I=()=>{u([...l,r]),d(!1)},k=t=>{u(l.filter(a=>a.certificateId!==t))},v=t=>{const a=new N;a.setFontSize(18),a.text("Training Completion Certificate",20,20),a.setFontSize(12),a.text(`Certificate ID: ${t.certificateId}`,20,40),a.text(`Worker Name: ${t.workerName}`,20,50),a.text(`Training Name: ${t.trainingName}`,20,60),a.text(`Completion Date: ${t.completionDate}`,20,70),a.text(`Expiry Date: ${t.expiryDate}`,20,80),a.text(`Status: ${t.status}`,20,90),a.text("This certifies that the above worker has successfully completed the training.",20,110),a.save(`${t.certificateId}.pdf`)};return e.jsxs(y,{sx:{p:3},children:[e.jsx(S,{variant:"h5",sx:{mb:2,color:"#0E4C92"},children:"Certificate Management"}),e.jsx(h,{variant:"outlined",startIcon:e.jsx($,{}),onClick:b,sx:{mb:2,color:"#0E4C92"},children:"Issue New Certificate"}),e.jsx(T,{sx:{borderLeft:"6px solid #082A52",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",borderRadius:2},children:e.jsx(A,{children:e.jsxs(E,{children:[e.jsx(w,{sx:{background:"#E3EAFD"},children:e.jsxs(x,{children:[e.jsx(i,{children:"Certificate ID"}),e.jsx(i,{children:"Worker Name"}),e.jsx(i,{children:"Training Name"}),e.jsx(i,{children:"Completion Date"}),e.jsx(i,{children:"Expiry Date"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Actions"})]})}),e.jsxs(W,{children:[l.map(t=>e.jsxs(x,{children:[e.jsx(i,{children:t.certificateId}),e.jsx(i,{children:t.workerName}),e.jsx(i,{children:t.trainingName}),e.jsx(i,{children:t.completionDate}),e.jsx(i,{children:t.expiryDate}),e.jsx(i,{children:e.jsx(B,{label:t.status,color:t.status==="Valid"?"success":"error",size:"small"})}),e.jsxs(i,{children:[e.jsx(f,{color:"primary",onClick:()=>v(t),children:e.jsx(F,{})}),e.jsx(f,{color:"error",onClick:()=>k(t.certificateId),children:e.jsx(R,{})})]})]},t.certificateId)),l.length===0&&e.jsx(x,{children:e.jsx(i,{colSpan:7,align:"center",children:"No certificates issued yet."})})]})]})})}),e.jsxs(M,{open:C,onClose:j,maxWidth:"sm",fullWidth:!0,children:[e.jsx(V,{sx:{background:"#0E4C92",color:"white"},children:"Issue Certificate"}),e.jsx(z,{dividers:!0,children:e.jsxs(s,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{label:"Certificate ID",name:"certificateId",value:r.certificateId,fullWidth:!0,disabled:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{select:!0,label:"Worker Name",name:"workerName",value:r.workerName,onChange:o,fullWidth:!0,children:D.map(t=>e.jsx(c,{value:t,children:t},t))})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{select:!0,label:"Training Name",name:"trainingName",value:r.trainingName,onChange:o,fullWidth:!0,children:g.map(t=>e.jsx(c,{value:t,children:t},t))})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{type:"date",label:"Completion Date",name:"completionDate",value:r.completionDate,onChange:o,fullWidth:!0,InputLabelProps:{shrink:!0}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(n,{type:"date",label:"Expiry Date",name:"expiryDate",value:r.expiryDate,onChange:o,fullWidth:!0,InputLabelProps:{shrink:!0}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsxs(n,{select:!0,label:"Status",name:"status",value:r.status,onChange:o,fullWidth:!0,children:[e.jsx(c,{value:"Valid",children:"Valid"}),e.jsx(c,{value:"Expired",children:"Expired"})]})})]})}),e.jsxs(L,{children:[e.jsx(h,{onClick:j,children:"Cancel"}),e.jsx(h,{variant:"contained",onClick:I,children:"Save"})]})]})]})};export{de as default};
