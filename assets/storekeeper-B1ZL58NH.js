import{r as p,j as e}from"./index-BGNTJdXh.js";import{h as $,i as V,s as _,u as N,l as W,g as K,S as Se,m as F,j as ge,B as G,C as O,T as r,a as ne,b as se,c as oe,d as B,e as i,f as re,P as ae}from"./TableRow-C4o90wkq.js";import{C as J,S as X}from"./Stack-E8fi16_w.js";import{C as Y}from"./Chip-DmP6IT89.js";import{u as ee,B as z}from"./Modal-ZZY8XqvI.js";import{D as ie,a as le,b as ce,c as xe}from"./DialogTitle-DPXgBb11.js";import{G as k}from"./Grid-DSi4ol87.js";import{C as fe}from"./Close-C6IxgsWa.js";import{C as Ce}from"./Check-B89Eyfoy.js";import{c as q}from"./clsx-B-dksMZM.js";import{C as be}from"./Collapse-Ba7q6z5A.js";import"./Transition-DLxW4k6f.js";import"./isMuiElement-D3LEzrLO.js";const U=p.createContext({}),te=p.createContext({});function Pe(t){return V("MuiStep",t)}$("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const _e=t=>{const{classes:o,orientation:n,alternativeLabel:l,completed:c}=t;return W({root:["root",n,l&&"alternativeLabel",c&&"completed"]},Pe,o)},Ee=_("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[n.orientation],n.alternativeLabel&&o.alternativeLabel,n.completed&&o.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),me=p.forwardRef(function(o,n){const l=N({props:o,name:"MuiStep"}),{active:c,children:d,className:v,component:u="div",completed:b,disabled:j,expanded:g=!1,index:x,last:h,...f}=l,{activeStep:E,connector:y,alternativeLabel:C,orientation:L,nonLinear:I}=p.useContext(U);let[S=!1,M=!1,w=!1]=[c,b,j];E===x?S=c!==void 0?c:!0:!I&&E>x?M=b!==void 0?b:!0:!I&&E<x&&(w=j!==void 0?j:!0);const H=p.useMemo(()=>({index:x,last:h,expanded:g,icon:x+1,active:S,completed:M,disabled:w}),[x,h,g,S,M,w]),P={...l,active:S,orientation:L,alternativeLabel:C,completed:M,disabled:w,expanded:g,component:u},s=_e(P),a=e.jsxs(Ee,{as:u,className:q(s.root,v),ref:n,ownerState:P,...f,children:[y&&C&&x!==0?y:null,d]});return e.jsx(te.Provider,{value:H,children:y&&!C&&x!==0?e.jsxs(p.Fragment,{children:[y,a]}):a})}),Le=K(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),Ie=K(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function we(t){return V("MuiStepIcon",t)}const de=$("MuiStepIcon",["root","active","completed","error","text"]);var he;const Me=t=>{const{classes:o,active:n,completed:l,error:c}=t;return W({root:["root",n&&"active",l&&"completed",c&&"error"],text:["text"]},we,o)},pe=_(Se,{name:"MuiStepIcon",slot:"Root"})(F(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${de.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${de.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${de.error}`]:{color:(t.vars||t).palette.error.main}}))),Re=_("text",{name:"MuiStepIcon",slot:"Text"})(F(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}))),De=p.forwardRef(function(o,n){const l=N({props:o,name:"MuiStepIcon"}),{active:c=!1,className:d,completed:v=!1,error:u=!1,icon:b,...j}=l,g={...l,active:c,completed:v,error:u},x=Me(g);if(typeof b=="number"||typeof b=="string"){const h=q(d,x.root);return u?e.jsx(pe,{as:Ie,className:h,ref:n,ownerState:g,...j}):v?e.jsx(pe,{as:Le,className:h,ref:n,ownerState:g,...j}):e.jsxs(pe,{className:h,ref:n,ownerState:g,...j,children:[he||(he=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(Re,{className:x.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:g,children:b})]})}return b});function ze(t){return V("MuiStepLabel",t)}const T=$("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),ke=t=>{const{classes:o,orientation:n,active:l,completed:c,error:d,disabled:v,alternativeLabel:u}=t;return W({root:["root",n,d&&"error",v&&"disabled",u&&"alternativeLabel"],label:["label",l&&"active",c&&"completed",d&&"error",v&&"disabled",u&&"alternativeLabel"],iconContainer:["iconContainer",l&&"active",c&&"completed",d&&"error",v&&"disabled",u&&"alternativeLabel"],labelContainer:["labelContainer",u&&"alternativeLabel"]},ze,o)},He=_("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[n.orientation]]}})({display:"flex",alignItems:"center",[`&.${T.alternativeLabel}`]:{flexDirection:"column"},[`&.${T.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),Ae=_("span",{name:"MuiStepLabel",slot:"Label"})(F(({theme:t})=>({...t.typography.body2,display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${T.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${T.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${T.alternativeLabel}`]:{marginTop:16},[`&.${T.error}`]:{color:(t.vars||t).palette.error.main}}))),Te=_("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${T.alternativeLabel}`]:{paddingRight:0}}),qe=_("span",{name:"MuiStepLabel",slot:"LabelContainer"})(F(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${T.alternativeLabel}`]:{textAlign:"center"}}))),ue=p.forwardRef(function(o,n){const l=N({props:o,name:"MuiStepLabel"}),{children:c,className:d,componentsProps:v={},error:u=!1,icon:b,optional:j,slots:g={},slotProps:x={},StepIconComponent:h,StepIconProps:f,...E}=l,{alternativeLabel:y,orientation:C}=p.useContext(U),{active:L,disabled:I,completed:S,icon:M}=p.useContext(te),w=b||M;let H=h;w&&!H&&(H=De);const P={...l,active:L,alternativeLabel:y,completed:S,disabled:I,error:u,orientation:C},s=ke(P),a={slots:g,slotProps:{stepIcon:f,...v,...x}},[m,R]=ee("root",{elementType:He,externalForwardedProps:{...a,...E},ownerState:P,ref:n,className:q(s.root,d)}),[D,A]=ee("label",{elementType:Ae,externalForwardedProps:a,ownerState:P}),[Q,ye]=ee("stepIcon",{elementType:H,externalForwardedProps:a,ownerState:P});return e.jsxs(m,{...R,children:[w||Q?e.jsx(Te,{className:s.iconContainer,ownerState:P,children:e.jsx(Q,{completed:S,active:L,error:u,icon:w,...ye})}):null,e.jsxs(qe,{className:s.labelContainer,ownerState:P,children:[c?e.jsx(D,{...A,className:q(s.label,A==null?void 0:A.className),children:c}):null,j]})]})});ue.muiName="StepLabel";function Be(t){return V("MuiStepConnector",t)}$("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const $e=t=>{const{classes:o,orientation:n,alternativeLabel:l,active:c,completed:d,disabled:v}=t,u={root:["root",n,l&&"alternativeLabel",c&&"active",d&&"completed",v&&"disabled"],line:["line",`line${ge(n)}`]};return W(u,Be,o)},Ve=_("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[n.orientation],n.alternativeLabel&&o.alternativeLabel,n.completed&&o.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Ne=_("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.line,o[`line${ge(n.orientation)}`]]}})(F(({theme:t})=>{const o=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return{display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:o,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),We=p.forwardRef(function(o,n){const l=N({props:o,name:"MuiStepConnector"}),{className:c,...d}=l,{alternativeLabel:v,orientation:u="horizontal"}=p.useContext(U),{active:b,disabled:j,completed:g}=p.useContext(te),x={...l,alternativeLabel:v,orientation:u,active:b,completed:g,disabled:j},h=$e(x);return e.jsx(Ve,{className:q(h.root,c),ref:n,ownerState:x,...d,children:e.jsx(Ne,{className:h.line,ownerState:x})})});function Fe(t){return V("MuiStepContent",t)}$("MuiStepContent",["root","last","transition"]);const Oe=t=>{const{classes:o,last:n}=t;return W({root:["root",n&&"last"],transition:["transition"]},Fe,o)},Ke=_("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,n.last&&o.last]}})(F(({theme:t})=>({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`,variants:[{props:{last:!0},style:{borderLeft:"none"}}]}))),Ue=_(be,{name:"MuiStepContent",slot:"Transition"})({}),ve=p.forwardRef(function(o,n){const l=N({props:o,name:"MuiStepContent"}),{children:c,className:d,TransitionComponent:v=be,transitionDuration:u="auto",TransitionProps:b,slots:j={},slotProps:g={},...x}=l;p.useContext(U);const{active:h,last:f,expanded:E}=p.useContext(te),y={...l,last:f},C=Oe(y);let L=u;u==="auto"&&!v.muiSupportAuto&&(L=void 0);const I={slots:j,slotProps:{transition:b,...g}},[S,M]=ee("transition",{elementType:Ue,externalForwardedProps:I,ownerState:y,className:C.transition,additionalProps:{in:h||E,timeout:L,unmountOnExit:!0}});return e.jsx(Ke,{className:q(C.root,d),ref:n,ownerState:y,...x,children:e.jsx(S,{as:v,...M,children:c})})});function Qe(t){return V("MuiStepper",t)}$("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Ge=t=>{const{orientation:o,nonLinear:n,alternativeLabel:l,classes:c}=t;return W({root:["root",o,n&&"nonLinear",l&&"alternativeLabel"]},Qe,c)},Je=_("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[n.orientation],n.alternativeLabel&&o.alternativeLabel,n.nonLinear&&o.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),Xe=e.jsx(We,{}),Ye=p.forwardRef(function(o,n){const l=N({props:o,name:"MuiStepper"}),{activeStep:c=0,alternativeLabel:d=!1,children:v,className:u,component:b="div",connector:j=Xe,nonLinear:g=!1,orientation:x="horizontal",...h}=l,f={...l,nonLinear:g,alternativeLabel:d,orientation:x,component:b},E=Ge(f),y=p.Children.toArray(v).filter(Boolean),C=y.map((I,S)=>p.cloneElement(I,{index:S,last:S+1===y.length,...I.props})),L=p.useMemo(()=>({activeStep:c,alternativeLabel:d,connector:j,nonLinear:g,orientation:x}),[c,d,j,g,x]);return e.jsx(U.Provider,{value:L,children:e.jsx(Je,{as:b,ownerState:f,className:q(E.root,u),ref:n,...h,children:C})})}),Ze=K(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),je=K(e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"})),et=K(e.jsx("path",{d:"M9.5 6.5v3h-3v-3zM11 5H5v6h6zm-1.5 9.5v3h-3v-3zM11 13H5v6h6zm6.5-6.5v3h-3v-3zM19 5h-6v6h6zm-6 8h1.5v1.5H13zm1.5 1.5H16V16h-1.5zM16 13h1.5v1.5H16zm-3 3h1.5v1.5H13zm1.5 1.5H16V19h-1.5zM16 16h1.5v1.5H16zm1.5-1.5H19V16h-1.5zm0 3H19V19h-1.5zM22 7h-2V4h-3V2h5zm0 15v-5h-2v3h-3v2zM2 22h5v-2H4v-3H2zM2 2v5h2V4h3V2z"})),Z=[{id:"PPE-001",name:"Safety Helmet",renewal:12,category:"Head Protection"},{id:"PPE-002",name:"Acid-Resistant Gloves",renewal:6,category:"Hand Protection"},{id:"PPE-003",name:"Safety Shoes",renewal:18,category:"Foot Protection"},{id:"PPE-004",name:"Face Shield",renewal:12,category:"Face Protection"},{id:"PPE-005",name:"Safety Glasses",renewal:12,category:"Eye Protection"},{id:"PPE-006",name:"Ear Plugs",renewal:6,category:"Hearing Protection"},{id:"PPE-007",name:"High-Vis Vest",renewal:12,category:"Body Protection"},{id:"PPE-008",name:"Welding Mask",renewal:24,category:"Face Protection"}],tt=[{request_id:"REQ-1001",employee_name:"Rajesh Kumar",employee_id:"EMP-001",department:"Welding",requested_items:["PPE-001","PPE-002","PPE-008"],approval_status:"Pending",request_date:"2024-01-15",module:"contractor"},{request_id:"REQ-1002",employee_name:"Priya Sharma",employee_id:"EMP-002",department:"Electrical",requested_items:["PPE-001","PPE-003","PPE-005"],approval_status:"Approved",request_date:"2024-01-14",approved_date:"2024-01-15",approved_by:"Store Keeper",module:"contractor"},{request_id:"REQ-1005",employee_name:"Vikram Singh",employee_id:"EMP-005",department:"Construction",requested_items:["PPE-001","PPE-003","PPE-007"],approval_status:"Pending",request_date:"2024-01-16",module:"contractor"},{request_id:"REQ-1003",employee_name:"Amit Patel",employee_id:"EMP-003",department:"Mechanical",requested_items:["PPE-001","PPE-003","PPE-004"],approval_status:"Issued",request_date:"2024-01-10",approved_date:"2024-01-11",approved_by:"Store Keeper",issue_date:"2024-01-12",renewal_date:"2025-07-12",issued_by:"Store Keeper",barcodes:{"PPE-001":"BRC-HLM-89342","PPE-003":"BRC-SHO-45621","PPE-004":"BRC-FSH-78901"},signature_date:"2024-01-12",signature:"digitally_signed",module:"contractor"},{request_id:"REQ-1004",employee_name:"Sneha Reddy",employee_id:"EMP-004",department:"Laboratory",requested_items:["PPE-001","PPE-002","PPE-004","PPE-005"],approval_status:"Denied",request_date:"2024-01-13",approved_date:"2024-01-14",approved_by:"Store Keeper",denial_reason:"Safety glasses out of stock",module:"contractor"}];function ht(){const[t,o]=p.useState(tt),[n,l]=p.useState(null),[c,d]=p.useState(!1),[v,u]=p.useState(!1),[b,j]=p.useState(!1),[g,x]=p.useState(0),[h,f]=p.useState({}),E=s=>{l(s),d(!0)},y=s=>{const a=t.map(m=>m.request_id===s.request_id?{...m,approval_status:"Approved",approved_date:new Date().toISOString().split("T")[0],approved_by:"Store Keeper"}:m);o(a),d(!1)},C=s=>{const a=t.map(m=>m.request_id===s.request_id?{...m,approval_status:"Denied",approved_date:new Date().toISOString().split("T")[0],approved_by:"Store Keeper",denial_reason:"Items not available in stock"}:m);o(a),d(!1)},L=s=>{l(s),x(0),f({}),u(!0)},I=s=>{const m=`BRC-${{"PPE-001":"HLM","PPE-002":"GLV","PPE-003":"SHO","PPE-004":"FSH","PPE-005":"GLS","PPE-006":"EAR","PPE-007":"VST","PPE-008":"MSK"}[s]}-${Math.random().toString().substr(2,6)}`;f(R=>({...R,[s]:m}))},S=()=>{u(!1),j(!0)},M=()=>{const s=new Date().toISOString().split("T")[0],a=Math.max(...n.requested_items.map(D=>{const A=Z.find(Q=>Q.id===D);return(A==null?void 0:A.renewal)||12})),m=new Date;m.setMonth(m.getMonth()+a);const R=t.map(D=>D.request_id===n.request_id?{...D,approval_status:"Issued",issue_date:s,renewal_date:m.toISOString().split("T")[0],issued_by:"Store Keeper",barcodes:{...h},signature_date:s,signature:"digitally_signed"}:D);o(R),j(!1),f({})},w=t.filter(s=>s.approval_status==="Pending"),H=t.filter(s=>s.approval_status==="Approved"),P=t.filter(s=>s.approval_status==="Issued");return e.jsxs(G,{sx:{p:3},children:[e.jsx(O,{sx:{mb:3,borderLeft:"6px solid #2E7D32",borderRadius:2},children:e.jsx(J,{title:e.jsxs(r,{variant:"h5",sx:{color:"#2E7D32",fontWeight:600},children:[e.jsx(je,{sx:{mr:1,verticalAlign:"middle"}}),"Store Keeper - PPE Management"]}),subheader:"Review, approve and issue PPE items to employees"})}),e.jsxs(O,{sx:{mb:3},children:[e.jsx(J,{title:e.jsxs(r,{variant:"h6",color:"warning.main",children:[e.jsx(Ze,{sx:{mr:1,verticalAlign:"middle"}}),"Pending Approval (",w.length,")"]}),subheader:"Requests waiting for your review and approval"}),e.jsx(ne,{children:e.jsxs(se,{children:[e.jsx(oe,{children:e.jsxs(B,{sx:{backgroundColor:"#FFF3E0"},children:[e.jsx(i,{children:"Request ID"}),e.jsx(i,{children:"Employee"}),e.jsx(i,{children:"Department"}),e.jsx(i,{children:"Requested Items"}),e.jsx(i,{children:"Request Date"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(re,{children:w.map((s,a)=>e.jsxs(B,{sx:{"&:hover":{backgroundColor:"#fff8e1"}},children:[e.jsx(i,{children:e.jsx(r,{fontWeight:600,children:s.request_id})}),e.jsxs(i,{children:[e.jsx(r,{fontWeight:600,children:s.employee_name}),e.jsx(r,{variant:"caption",children:s.employee_id})]}),e.jsx(i,{children:s.department}),e.jsx(i,{children:e.jsxs(X,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,children:[s.requested_items.slice(0,2).map(m=>{const R=Z.find(D=>D.id===m);return e.jsx(Y,{label:R==null?void 0:R.name,size:"small"},m)}),s.requested_items.length>2&&e.jsx(Y,{label:`+${s.requested_items.length-2} more`,size:"small"})]})}),e.jsx(i,{children:s.request_date}),e.jsx(i,{children:e.jsx(z,{variant:"outlined",size:"small",onClick:()=>E(s),children:"Review"})})]},a))})]})})]}),e.jsxs(O,{sx:{mb:3},children:[e.jsx(J,{title:e.jsxs(r,{variant:"h6",color:"success.main",children:["Approved - Ready for Issue (",H.length,")"]}),subheader:"Approved requests ready for item issuance"}),e.jsx(ne,{children:e.jsxs(se,{children:[e.jsx(oe,{children:e.jsxs(B,{sx:{backgroundColor:"#E8F5E8"},children:[e.jsx(i,{children:"Request ID"}),e.jsx(i,{children:"Employee"}),e.jsx(i,{children:"Items Count"}),e.jsx(i,{children:"Approved Date"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(re,{children:H.map((s,a)=>e.jsxs(B,{sx:{"&:hover":{backgroundColor:"#f1f8e9"}},children:[e.jsx(i,{children:s.request_id}),e.jsx(i,{children:s.employee_name}),e.jsxs(i,{children:[s.requested_items.length," items"]}),e.jsx(i,{children:s.approved_date}),e.jsx(i,{children:e.jsx(z,{variant:"contained",size:"small",startIcon:e.jsx(je,{}),onClick:()=>L(s),children:"Issue Items"})})]},a))})]})})]}),e.jsxs(O,{children:[e.jsx(J,{title:e.jsxs(r,{variant:"h6",color:"info.main",children:["Issued Items (",P.length,")"]}),subheader:"Completed issuances with digital signatures"}),e.jsx(ne,{children:e.jsxs(se,{children:[e.jsx(oe,{children:e.jsxs(B,{sx:{backgroundColor:"#E3F2FD"},children:[e.jsx(i,{children:"Request ID"}),e.jsx(i,{children:"Employee"}),e.jsx(i,{children:"Issued Items"}),e.jsx(i,{children:"Issue Date"}),e.jsx(i,{children:"Renewal Date"}),e.jsx(i,{children:"Status"})]})}),e.jsx(re,{children:P.map((s,a)=>e.jsxs(B,{children:[e.jsx(i,{children:s.request_id}),e.jsx(i,{children:s.employee_name}),e.jsxs(i,{children:[s.requested_items.length," items"]}),e.jsx(i,{children:s.issue_date}),e.jsx(i,{children:s.renewal_date}),e.jsx(i,{children:e.jsx(Y,{label:"Issued",color:"success",size:"small"})})]},a))})]})})]}),e.jsxs(ie,{open:c,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxs(le,{sx:{color:"#0A3A6E",fontWeight:600},children:["Review Request - ",n==null?void 0:n.request_id]}),e.jsx(ce,{dividers:!0,children:n&&e.jsxs(k,{container:!0,spacing:3,children:[e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Employee Name"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:n.employee_name})]}),e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Employee ID"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:n.employee_id})]}),e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Department"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:n.department})]}),e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Request Date"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:n.request_date})]}),e.jsxs(k,{item:!0,xs:12,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Requested Items"}),e.jsx(X,{spacing:1,sx:{mt:1},children:n.requested_items.map(s=>{const a=Z.find(m=>m.id===s);return e.jsxs(ae,{variant:"outlined",sx:{p:2},children:[e.jsx(r,{fontWeight:500,children:a==null?void 0:a.name}),e.jsxs(r,{variant:"caption",color:"text.secondary",children:[a==null?void 0:a.category," â€¢ Renewal: ",a==null?void 0:a.renewal," months"]})]},s)})})]})]})}),e.jsxs(xe,{sx:{p:3,gap:2},children:[e.jsx(z,{onClick:()=>C(n),variant:"outlined",color:"error",startIcon:e.jsx(fe,{}),children:"Deny Request"}),e.jsx(z,{onClick:()=>y(n),variant:"contained",color:"success",startIcon:e.jsx(Ce,{}),children:"Approve Request"})]})]}),e.jsxs(ie,{open:v,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxs(le,{sx:{color:"#2E7D32",fontWeight:600},children:["Issue PPE Items - ",n==null?void 0:n.request_id]}),e.jsx(ce,{dividers:!0,children:e.jsxs(Ye,{activeStep:g,orientation:"vertical",children:[e.jsxs(me,{children:[e.jsx(ue,{children:"Scan Barcodes"}),e.jsxs(ve,{children:[e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Scan barcode for each item being issued to ",n==null?void 0:n.employee_name]}),e.jsx(X,{spacing:2,children:n==null?void 0:n.requested_items.map(s=>{const a=Z.find(m=>m.id===s);return e.jsx(ae,{variant:"outlined",sx:{p:2},children:e.jsxs(k,{container:!0,alignItems:"center",spacing:2,children:[e.jsxs(k,{item:!0,xs:8,children:[e.jsx(r,{fontWeight:500,children:a==null?void 0:a.name}),e.jsx(r,{variant:"caption",color:"text.secondary",children:a==null?void 0:a.category})]}),e.jsx(k,{item:!0,xs:4,children:h[s]?e.jsx(Y,{label:`Scanned: ${h[s]}`,color:"success",size:"small",onDelete:()=>{const m={...h};delete m[s],f(m)}}):e.jsx(z,{variant:"outlined",size:"small",startIcon:e.jsx(et,{}),onClick:()=>I(s),children:"Scan Barcode"})})]})},s)})}),e.jsx(G,{sx:{mt:2},children:e.jsxs(z,{variant:"contained",onClick:()=>x(1),disabled:Object.keys(h).length!==(n==null?void 0:n.requested_items.length),children:["Continue to Signature (",Object.keys(h).length,"/",n==null?void 0:n.requested_items.length,")"]})})]})]}),e.jsxs(me,{children:[e.jsx(ue,{children:"Employee Signature"}),e.jsxs(ve,{children:[e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Employee will sign on the tablet to acknowledge receipt"}),e.jsxs(ae,{variant:"outlined",sx:{p:3,textAlign:"center",backgroundColor:"#f5f5f5"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Digital Signature Pad"}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Employee: ",e.jsx("strong",{children:n==null?void 0:n.employee_name})]}),e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Employee ID: ",n==null?void 0:n.employee_id]}),e.jsx(G,{sx:{height:200,border:"2px dashed #ccc",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",cursor:"pointer"},onClick:S,children:e.jsx(r,{color:"text.secondary",children:"Click here to simulate employee signature"})}),e.jsx(r,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"* Employee will sign in this area on the tablet device"})]}),e.jsx(G,{sx:{mt:2},children:e.jsx(z,{variant:"contained",onClick:S,children:"Complete Signature"})})]})]})]})})]}),e.jsxs(ie,{open:b,onClose:()=>j(!1),children:[e.jsx(le,{sx:{color:"#2E7D32",fontWeight:600},children:"Issuance Complete"}),e.jsxs(ce,{children:[e.jsxs(r,{paragraph:!0,children:["All items have been issued to ",e.jsx("strong",{children:n==null?void 0:n.employee_name}),"and digital signature has been captured."]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Request ID: ",n==null?void 0:n.request_id]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Issue Date: ",new Date().toISOString().split("T")[0]]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Items Issued: ",n==null?void 0:n.requested_items.length]})]}),e.jsxs(xe,{children:[e.jsx(z,{onClick:()=>j(!1),children:"Cancel"}),e.jsx(z,{variant:"contained",onClick:M,children:"Complete Issuance"})]})]}),e.jsxs(O,{sx:{mt:3,p:3,bgcolor:"#f0f7f0"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,color:"#2E7D32",children:"Store Keeper Workflow"}),e.jsx(r,{variant:"body2",paragraph:!0,children:"This module demonstrates the complete Store Keeper workflow:"}),e.jsxs(X,{spacing:1,children:[e.jsxs(r,{variant:"body2",children:["1. ",e.jsx("strong",{children:"Review Pending Requests"}),' - Check REQ-1001 and REQ-1005 in "Pending Approval"']}),e.jsxs(r,{variant:"body2",children:["2. ",e.jsx("strong",{children:"Approve/Deny Requests"}),' - Click "Review" to approve or deny requests']}),e.jsxs(r,{variant:"body2",children:["3. ",e.jsx("strong",{children:"Issue Approved Items"}),' - Check REQ-1002 in "Approved" section, click "Issue Items"']}),e.jsxs(r,{variant:"body2",children:["4. ",e.jsx("strong",{children:"Scan Barcodes"})," - Simulate scanning each item's barcode"]}),e.jsxs(r,{variant:"body2",children:["5. ",e.jsx("strong",{children:"Digital Signature"})," - Employee acknowledges receipt by signing"]}),e.jsxs(r,{variant:"body2",children:["6. ",e.jsx("strong",{children:"Complete Issuance"}),' - Request moves to "Issued Items" section']})]})]})]})}export{ht as default};
