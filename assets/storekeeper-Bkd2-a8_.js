import{r as p,j as e}from"./index-DeCPM1YT.js";import{h as $,g as N,s as _,u as W,l as F,f as ue,S as Se,m as V,j as ge,B as Q,C as O,T as r,a as te,b as oe,c as B,d as i,e as ne,P as se}from"./TableRow-Cd9L6edy.js";import{C as G}from"./CardHeader-BFOCdbev.js";import{I as me}from"./Inventory-C7J5E5x9.js";import{A as fe}from"./Assignment-CaBj9uO4.js";import{C as re}from"./CardContent-DuW-pjc9.js";import{S as J}from"./Stack-Cb_zqfoO.js";import{C as X}from"./Chip-D7PQ2JTP.js";import{B as z}from"./Button-i0LS_vGv.js";import{D as ae,a as ie,b as le,c as xe}from"./DialogTitle-D5MRwTrG.js";import{G as k}from"./Grid-DCJmtdp8.js";import{C as Ce}from"./Close-DenZmEgU.js";import{C as Pe}from"./Check-CYVQLbsd.js";import{c as q}from"./clsx-B-dksMZM.js";import{u as Z}from"./ButtonBase-Cikulz_k.js";import{C as be}from"./Collapse-CI6k5Tak.js";import"./Modal-CUDL2x5c.js";import"./Transition-B84HZYJ-.js";import"./TransitionGroupContext-CNIvG2Vj.js";import"./isMuiElement-DPWNH1dL.js";const K=p.createContext({}),ee=p.createContext({});function _e(t){return N("MuiStep",t)}$("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Ee=t=>{const{classes:s,orientation:o,alternativeLabel:l,completed:c}=t;return F({root:["root",o,l&&"alternativeLabel",c&&"completed"]},_e,s)},Le=_("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[o.orientation],o.alternativeLabel&&s.alternativeLabel,o.completed&&s.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),he=p.forwardRef(function(s,o){const l=W({props:s,name:"MuiStep"}),{active:c,children:d,className:v,component:u="div",completed:b,disabled:j,expanded:g=!1,index:m,last:h,...f}=l,{activeStep:E,connector:y,alternativeLabel:C,orientation:L,nonLinear:I}=p.useContext(K);let[S=!1,R=!1,w=!1]=[c,b,j];E===m?S=c!==void 0?c:!0:!I&&E>m?R=b!==void 0?b:!0:!I&&E<m&&(w=j!==void 0?j:!0);const A=p.useMemo(()=>({index:m,last:h,expanded:g,icon:m+1,active:S,completed:R,disabled:w}),[m,h,g,S,R,w]),P={...l,active:S,orientation:L,alternativeLabel:C,completed:R,disabled:w,expanded:g,component:u},n=Ee(P),a=e.jsxs(Le,{as:u,className:q(n.root,v),ref:o,ownerState:P,...f,children:[y&&C&&m!==0?y:null,d]});return e.jsx(ee.Provider,{value:A,children:y&&!C&&m!==0?e.jsxs(p.Fragment,{children:[y,a]}):a})}),Ie=ue(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),we=ue(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function Re(t){return N("MuiStepIcon",t)}const ce=$("MuiStepIcon",["root","active","completed","error","text"]);var ve;const Me=t=>{const{classes:s,active:o,completed:l,error:c}=t;return F({root:["root",o&&"active",l&&"completed",c&&"error"],text:["text"]},Re,s)},de=_(Se,{name:"MuiStepIcon",slot:"Root"})(V(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${ce.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${ce.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${ce.error}`]:{color:(t.vars||t).palette.error.main}}))),De=_("text",{name:"MuiStepIcon",slot:"Text"})(V(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}))),ze=p.forwardRef(function(s,o){const l=W({props:s,name:"MuiStepIcon"}),{active:c=!1,className:d,completed:v=!1,error:u=!1,icon:b,...j}=l,g={...l,active:c,completed:v,error:u},m=Me(g);if(typeof b=="number"||typeof b=="string"){const h=q(d,m.root);return u?e.jsx(de,{as:we,className:h,ref:o,ownerState:g,...j}):v?e.jsx(de,{as:Ie,className:h,ref:o,ownerState:g,...j}):e.jsxs(de,{className:h,ref:o,ownerState:g,...j,children:[ve||(ve=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(De,{className:m.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:g,children:b})]})}return b});function ke(t){return N("MuiStepLabel",t)}const H=$("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Ae=t=>{const{classes:s,orientation:o,active:l,completed:c,error:d,disabled:v,alternativeLabel:u}=t;return F({root:["root",o,d&&"error",v&&"disabled",u&&"alternativeLabel"],label:["label",l&&"active",c&&"completed",d&&"error",v&&"disabled",u&&"alternativeLabel"],iconContainer:["iconContainer",l&&"active",c&&"completed",d&&"error",v&&"disabled",u&&"alternativeLabel"],labelContainer:["labelContainer",u&&"alternativeLabel"]},ke,s)},Te=_("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[o.orientation]]}})({display:"flex",alignItems:"center",[`&.${H.alternativeLabel}`]:{flexDirection:"column"},[`&.${H.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),He=_("span",{name:"MuiStepLabel",slot:"Label"})(V(({theme:t})=>({...t.typography.body2,display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${H.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${H.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${H.alternativeLabel}`]:{marginTop:16},[`&.${H.error}`]:{color:(t.vars||t).palette.error.main}}))),qe=_("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${H.alternativeLabel}`]:{paddingRight:0}}),Be=_("span",{name:"MuiStepLabel",slot:"LabelContainer"})(V(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${H.alternativeLabel}`]:{textAlign:"center"}}))),pe=p.forwardRef(function(s,o){const l=W({props:s,name:"MuiStepLabel"}),{children:c,className:d,componentsProps:v={},error:u=!1,icon:b,optional:j,slots:g={},slotProps:m={},StepIconComponent:h,StepIconProps:f,...E}=l,{alternativeLabel:y,orientation:C}=p.useContext(K),{active:L,disabled:I,completed:S,icon:R}=p.useContext(ee),w=b||R;let A=h;w&&!A&&(A=ze);const P={...l,active:L,alternativeLabel:y,completed:S,disabled:I,error:u,orientation:C},n=Ae(P),a={slots:g,slotProps:{stepIcon:f,...v,...m}},[x,M]=Z("root",{elementType:Te,externalForwardedProps:{...a,...E},ownerState:P,ref:o,className:q(n.root,d)}),[D,T]=Z("label",{elementType:He,externalForwardedProps:a,ownerState:P}),[U,ye]=Z("stepIcon",{elementType:A,externalForwardedProps:a,ownerState:P});return e.jsxs(x,{...M,children:[w||U?e.jsx(qe,{className:n.iconContainer,ownerState:P,children:e.jsx(U,{completed:S,active:L,error:u,icon:w,...ye})}):null,e.jsxs(Be,{className:n.labelContainer,ownerState:P,children:[c?e.jsx(D,{...T,className:q(n.label,T==null?void 0:T.className),children:c}):null,j]})]})});pe.muiName="StepLabel";function $e(t){return N("MuiStepConnector",t)}$("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Ne=t=>{const{classes:s,orientation:o,alternativeLabel:l,active:c,completed:d,disabled:v}=t,u={root:["root",o,l&&"alternativeLabel",c&&"active",d&&"completed",v&&"disabled"],line:["line",`line${ge(o)}`]};return F(u,$e,s)},We=_("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[o.orientation],o.alternativeLabel&&s.alternativeLabel,o.completed&&s.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Fe=_("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.line,s[`line${ge(o.orientation)}`]]}})(V(({theme:t})=>{const s=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return{display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:s,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),Ve=p.forwardRef(function(s,o){const l=W({props:s,name:"MuiStepConnector"}),{className:c,...d}=l,{alternativeLabel:v,orientation:u="horizontal"}=p.useContext(K),{active:b,disabled:j,completed:g}=p.useContext(ee),m={...l,alternativeLabel:v,orientation:u,active:b,completed:g,disabled:j},h=Ne(m);return e.jsx(We,{className:q(h.root,c),ref:o,ownerState:m,...d,children:e.jsx(Fe,{className:h.line,ownerState:m})})});function Oe(t){return N("MuiStepContent",t)}$("MuiStepContent",["root","last","transition"]);const Ke=t=>{const{classes:s,last:o}=t;return F({root:["root",o&&"last"],transition:["transition"]},Oe,s)},Ue=_("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.last&&s.last]}})(V(({theme:t})=>({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`,variants:[{props:{last:!0},style:{borderLeft:"none"}}]}))),Qe=_(be,{name:"MuiStepContent",slot:"Transition"})({}),je=p.forwardRef(function(s,o){const l=W({props:s,name:"MuiStepContent"}),{children:c,className:d,TransitionComponent:v=be,transitionDuration:u="auto",TransitionProps:b,slots:j={},slotProps:g={},...m}=l;p.useContext(K);const{active:h,last:f,expanded:E}=p.useContext(ee),y={...l,last:f},C=Ke(y);let L=u;u==="auto"&&!v.muiSupportAuto&&(L=void 0);const I={slots:j,slotProps:{transition:b,...g}},[S,R]=Z("transition",{elementType:Qe,externalForwardedProps:I,ownerState:y,className:C.transition,additionalProps:{in:h||E,timeout:L,unmountOnExit:!0}});return e.jsx(Ue,{className:q(C.root,d),ref:o,ownerState:y,...m,children:e.jsx(S,{as:v,...R,children:c})})});function Ge(t){return N("MuiStepper",t)}$("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Je=t=>{const{orientation:s,nonLinear:o,alternativeLabel:l,classes:c}=t;return F({root:["root",s,o&&"nonLinear",l&&"alternativeLabel"]},Ge,c)},Xe=_("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[o.orientation],o.alternativeLabel&&s.alternativeLabel,o.nonLinear&&s.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),Ye=e.jsx(Ve,{}),Ze=p.forwardRef(function(s,o){const l=W({props:s,name:"MuiStepper"}),{activeStep:c=0,alternativeLabel:d=!1,children:v,className:u,component:b="div",connector:j=Ye,nonLinear:g=!1,orientation:m="horizontal",...h}=l,f={...l,nonLinear:g,alternativeLabel:d,orientation:m,component:b},E=Je(f),y=p.Children.toArray(v).filter(Boolean),C=y.map((I,S)=>p.cloneElement(I,{index:S,last:S+1===y.length,...I.props})),L=p.useMemo(()=>({activeStep:c,alternativeLabel:d,connector:j,nonLinear:g,orientation:m}),[c,d,j,g,m]);return e.jsx(K.Provider,{value:L,children:e.jsx(Xe,{as:b,ownerState:f,className:q(E.root,u),ref:o,...h,children:C})})}),et=ue(e.jsx("path",{d:"M9.5 6.5v3h-3v-3zM11 5H5v6h6zm-1.5 9.5v3h-3v-3zM11 13H5v6h6zm6.5-6.5v3h-3v-3zM19 5h-6v6h6zm-6 8h1.5v1.5H13zm1.5 1.5H16V16h-1.5zM16 13h1.5v1.5H16zm-3 3h1.5v1.5H13zm1.5 1.5H16V19h-1.5zM16 16h1.5v1.5H16zm1.5-1.5H19V16h-1.5zm0 3H19V19h-1.5zM22 7h-2V4h-3V2h5zm0 15v-5h-2v3h-3v2zM2 22h5v-2H4v-3H2zM2 2v5h2V4h3V2z"})),Y=[{id:"PPE-001",name:"Safety Helmet",renewal:12,category:"Head Protection"},{id:"PPE-002",name:"Acid-Resistant Gloves",renewal:6,category:"Hand Protection"},{id:"PPE-003",name:"Safety Shoes",renewal:18,category:"Foot Protection"},{id:"PPE-004",name:"Face Shield",renewal:12,category:"Face Protection"},{id:"PPE-005",name:"Safety Glasses",renewal:12,category:"Eye Protection"},{id:"PPE-006",name:"Ear Plugs",renewal:6,category:"Hearing Protection"},{id:"PPE-007",name:"High-Vis Vest",renewal:12,category:"Body Protection"},{id:"PPE-008",name:"Welding Mask",renewal:24,category:"Face Protection"}],tt=[{request_id:"REQ-1001",employee_name:"Rajesh Kumar",employee_id:"EMP-001",department:"Welding",requested_items:["PPE-001","PPE-002","PPE-008"],approval_status:"Pending",request_date:"2024-01-15",module:"contractor"},{request_id:"REQ-1002",employee_name:"Priya Sharma",employee_id:"EMP-002",department:"Electrical",requested_items:["PPE-001","PPE-003","PPE-005"],approval_status:"Approved",request_date:"2024-01-14",approved_date:"2024-01-15",approved_by:"Store Keeper",module:"contractor"},{request_id:"REQ-1005",employee_name:"Vikram Singh",employee_id:"EMP-005",department:"Construction",requested_items:["PPE-001","PPE-003","PPE-007"],approval_status:"Pending",request_date:"2024-01-16",module:"contractor"},{request_id:"REQ-1003",employee_name:"Amit Patel",employee_id:"EMP-003",department:"Mechanical",requested_items:["PPE-001","PPE-003","PPE-004"],approval_status:"Issued",request_date:"2024-01-10",approved_date:"2024-01-11",approved_by:"Store Keeper",issue_date:"2024-01-12",renewal_date:"2025-07-12",issued_by:"Store Keeper",barcodes:{"PPE-001":"BRC-HLM-89342","PPE-003":"BRC-SHO-45621","PPE-004":"BRC-FSH-78901"},signature_date:"2024-01-12",signature:"digitally_signed",module:"contractor"},{request_id:"REQ-1004",employee_name:"Sneha Reddy",employee_id:"EMP-004",department:"Laboratory",requested_items:["PPE-001","PPE-002","PPE-004","PPE-005"],approval_status:"Denied",request_date:"2024-01-13",approved_date:"2024-01-14",approved_by:"Store Keeper",denial_reason:"Safety glasses out of stock",module:"contractor"}];function ft(){const[t,s]=p.useState(tt),[o,l]=p.useState(null),[c,d]=p.useState(!1),[v,u]=p.useState(!1),[b,j]=p.useState(!1),[g,m]=p.useState(0),[h,f]=p.useState({}),E=n=>{l(n),d(!0)},y=n=>{const a=t.map(x=>x.request_id===n.request_id?{...x,approval_status:"Approved",approved_date:new Date().toISOString().split("T")[0],approved_by:"Store Keeper"}:x);s(a),d(!1)},C=n=>{const a=t.map(x=>x.request_id===n.request_id?{...x,approval_status:"Denied",approved_date:new Date().toISOString().split("T")[0],approved_by:"Store Keeper",denial_reason:"Items not available in stock"}:x);s(a),d(!1)},L=n=>{l(n),m(0),f({}),u(!0)},I=n=>{const x=`BRC-${{"PPE-001":"HLM","PPE-002":"GLV","PPE-003":"SHO","PPE-004":"FSH","PPE-005":"GLS","PPE-006":"EAR","PPE-007":"VST","PPE-008":"MSK"}[n]}-${Math.random().toString().substr(2,6)}`;f(M=>({...M,[n]:x}))},S=()=>{u(!1),j(!0)},R=()=>{const n=new Date().toISOString().split("T")[0],a=Math.max(...o.requested_items.map(D=>{const T=Y.find(U=>U.id===D);return(T==null?void 0:T.renewal)||12})),x=new Date;x.setMonth(x.getMonth()+a);const M=t.map(D=>D.request_id===o.request_id?{...D,approval_status:"Issued",issue_date:n,renewal_date:x.toISOString().split("T")[0],issued_by:"Store Keeper",barcodes:{...h},signature_date:n,signature:"digitally_signed"}:D);s(M),j(!1),f({})},w=t.filter(n=>n.approval_status==="Pending"),A=t.filter(n=>n.approval_status==="Approved"),P=t.filter(n=>n.approval_status==="Issued");return e.jsxs(Q,{sx:{p:3},children:[e.jsx(O,{sx:{mb:3,borderLeft:"6px solid #2E7D32",borderRadius:2},children:e.jsx(G,{title:e.jsxs(r,{variant:"h5",sx:{color:"#2E7D32",fontWeight:600},children:[e.jsx(me,{sx:{mr:1,verticalAlign:"middle"}}),"Store Keeper - PPE Management"]}),subheader:"Review, approve and issue PPE items to employees"})}),e.jsxs(O,{sx:{mb:3},children:[e.jsx(G,{title:e.jsxs(r,{variant:"h6",color:"warning.main",children:[e.jsx(fe,{sx:{mr:1,verticalAlign:"middle"}}),"Pending Approval (",w.length,")"]}),subheader:"Requests waiting for your review and approval"}),e.jsx(re,{children:e.jsxs(te,{children:[e.jsx(oe,{children:e.jsxs(B,{sx:{backgroundColor:"#FFF3E0"},children:[e.jsx(i,{children:"Request ID"}),e.jsx(i,{children:"Employee"}),e.jsx(i,{children:"Department"}),e.jsx(i,{children:"Requested Items"}),e.jsx(i,{children:"Request Date"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(ne,{children:w.map((n,a)=>e.jsxs(B,{sx:{"&:hover":{backgroundColor:"#fff8e1"}},children:[e.jsx(i,{children:e.jsx(r,{fontWeight:600,children:n.request_id})}),e.jsxs(i,{children:[e.jsx(r,{fontWeight:600,children:n.employee_name}),e.jsx(r,{variant:"caption",children:n.employee_id})]}),e.jsx(i,{children:n.department}),e.jsx(i,{children:e.jsxs(J,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,children:[n.requested_items.slice(0,2).map(x=>{const M=Y.find(D=>D.id===x);return e.jsx(X,{label:M==null?void 0:M.name,size:"small"},x)}),n.requested_items.length>2&&e.jsx(X,{label:`+${n.requested_items.length-2} more`,size:"small"})]})}),e.jsx(i,{children:n.request_date}),e.jsx(i,{children:e.jsx(z,{variant:"outlined",size:"small",onClick:()=>E(n),children:"Review"})})]},a))})]})})]}),e.jsxs(O,{sx:{mb:3},children:[e.jsx(G,{title:e.jsxs(r,{variant:"h6",color:"success.main",children:["Approved - Ready for Issue (",A.length,")"]}),subheader:"Approved requests ready for item issuance"}),e.jsx(re,{children:e.jsxs(te,{children:[e.jsx(oe,{children:e.jsxs(B,{sx:{backgroundColor:"#E8F5E8"},children:[e.jsx(i,{children:"Request ID"}),e.jsx(i,{children:"Employee"}),e.jsx(i,{children:"Items Count"}),e.jsx(i,{children:"Approved Date"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(ne,{children:A.map((n,a)=>e.jsxs(B,{sx:{"&:hover":{backgroundColor:"#f1f8e9"}},children:[e.jsx(i,{children:n.request_id}),e.jsx(i,{children:n.employee_name}),e.jsxs(i,{children:[n.requested_items.length," items"]}),e.jsx(i,{children:n.approved_date}),e.jsx(i,{children:e.jsx(z,{variant:"contained",size:"small",startIcon:e.jsx(me,{}),onClick:()=>L(n),children:"Issue Items"})})]},a))})]})})]}),e.jsxs(O,{children:[e.jsx(G,{title:e.jsxs(r,{variant:"h6",color:"info.main",children:["Issued Items (",P.length,")"]}),subheader:"Completed issuances with digital signatures"}),e.jsx(re,{children:e.jsxs(te,{children:[e.jsx(oe,{children:e.jsxs(B,{sx:{backgroundColor:"#E3F2FD"},children:[e.jsx(i,{children:"Request ID"}),e.jsx(i,{children:"Employee"}),e.jsx(i,{children:"Issued Items"}),e.jsx(i,{children:"Issue Date"}),e.jsx(i,{children:"Renewal Date"}),e.jsx(i,{children:"Status"})]})}),e.jsx(ne,{children:P.map((n,a)=>e.jsxs(B,{children:[e.jsx(i,{children:n.request_id}),e.jsx(i,{children:n.employee_name}),e.jsxs(i,{children:[n.requested_items.length," items"]}),e.jsx(i,{children:n.issue_date}),e.jsx(i,{children:n.renewal_date}),e.jsx(i,{children:e.jsx(X,{label:"Issued",color:"success",size:"small"})})]},a))})]})})]}),e.jsxs(ae,{open:c,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxs(ie,{sx:{color:"#0A3A6E",fontWeight:600},children:["Review Request - ",o==null?void 0:o.request_id]}),e.jsx(le,{dividers:!0,children:o&&e.jsxs(k,{container:!0,spacing:3,children:[e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Employee Name"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:o.employee_name})]}),e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Employee ID"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:o.employee_id})]}),e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Department"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:o.department})]}),e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Request Date"}),e.jsx(r,{variant:"body1",gutterBottom:!0,children:o.request_date})]}),e.jsxs(k,{item:!0,xs:12,children:[e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"Requested Items"}),e.jsx(J,{spacing:1,sx:{mt:1},children:o.requested_items.map(n=>{const a=Y.find(x=>x.id===n);return e.jsxs(se,{variant:"outlined",sx:{p:2},children:[e.jsx(r,{fontWeight:500,children:a==null?void 0:a.name}),e.jsxs(r,{variant:"caption",color:"text.secondary",children:[a==null?void 0:a.category," â€¢ Renewal: ",a==null?void 0:a.renewal," months"]})]},n)})})]})]})}),e.jsxs(xe,{sx:{p:3,gap:2},children:[e.jsx(z,{onClick:()=>C(o),variant:"outlined",color:"error",startIcon:e.jsx(Ce,{}),children:"Deny Request"}),e.jsx(z,{onClick:()=>y(o),variant:"contained",color:"success",startIcon:e.jsx(Pe,{}),children:"Approve Request"})]})]}),e.jsxs(ae,{open:v,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxs(ie,{sx:{color:"#2E7D32",fontWeight:600},children:["Issue PPE Items - ",o==null?void 0:o.request_id]}),e.jsx(le,{dividers:!0,children:e.jsxs(Ze,{activeStep:g,orientation:"vertical",children:[e.jsxs(he,{children:[e.jsx(pe,{children:"Scan Barcodes"}),e.jsxs(je,{children:[e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Scan barcode for each item being issued to ",o==null?void 0:o.employee_name]}),e.jsx(J,{spacing:2,children:o==null?void 0:o.requested_items.map(n=>{const a=Y.find(x=>x.id===n);return e.jsx(se,{variant:"outlined",sx:{p:2},children:e.jsxs(k,{container:!0,alignItems:"center",spacing:2,children:[e.jsxs(k,{item:!0,xs:8,children:[e.jsx(r,{fontWeight:500,children:a==null?void 0:a.name}),e.jsx(r,{variant:"caption",color:"text.secondary",children:a==null?void 0:a.category})]}),e.jsx(k,{item:!0,xs:4,children:h[n]?e.jsx(X,{label:`Scanned: ${h[n]}`,color:"success",size:"small",onDelete:()=>{const x={...h};delete x[n],f(x)}}):e.jsx(z,{variant:"outlined",size:"small",startIcon:e.jsx(et,{}),onClick:()=>I(n),children:"Scan Barcode"})})]})},n)})}),e.jsx(Q,{sx:{mt:2},children:e.jsxs(z,{variant:"contained",onClick:()=>m(1),disabled:Object.keys(h).length!==(o==null?void 0:o.requested_items.length),children:["Continue to Signature (",Object.keys(h).length,"/",o==null?void 0:o.requested_items.length,")"]})})]})]}),e.jsxs(he,{children:[e.jsx(pe,{children:"Employee Signature"}),e.jsxs(je,{children:[e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Employee will sign on the tablet to acknowledge receipt"}),e.jsxs(se,{variant:"outlined",sx:{p:3,textAlign:"center",backgroundColor:"#f5f5f5"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Digital Signature Pad"}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Employee: ",e.jsx("strong",{children:o==null?void 0:o.employee_name})]}),e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Employee ID: ",o==null?void 0:o.employee_id]}),e.jsx(Q,{sx:{height:200,border:"2px dashed #ccc",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",cursor:"pointer"},onClick:S,children:e.jsx(r,{color:"text.secondary",children:"Click here to simulate employee signature"})}),e.jsx(r,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"* Employee will sign in this area on the tablet device"})]}),e.jsx(Q,{sx:{mt:2},children:e.jsx(z,{variant:"contained",onClick:S,children:"Complete Signature"})})]})]})]})})]}),e.jsxs(ae,{open:b,onClose:()=>j(!1),children:[e.jsx(ie,{sx:{color:"#2E7D32",fontWeight:600},children:"Issuance Complete"}),e.jsxs(le,{children:[e.jsxs(r,{paragraph:!0,children:["All items have been issued to ",e.jsx("strong",{children:o==null?void 0:o.employee_name}),"and digital signature has been captured."]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Request ID: ",o==null?void 0:o.request_id]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Issue Date: ",new Date().toISOString().split("T")[0]]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Items Issued: ",o==null?void 0:o.requested_items.length]})]}),e.jsxs(xe,{children:[e.jsx(z,{onClick:()=>j(!1),children:"Cancel"}),e.jsx(z,{variant:"contained",onClick:R,children:"Complete Issuance"})]})]}),e.jsxs(O,{sx:{mt:3,p:3,bgcolor:"#f0f7f0"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,color:"#2E7D32",children:"Store Keeper Workflow"}),e.jsx(r,{variant:"body2",paragraph:!0,children:"This module demonstrates the complete Store Keeper workflow:"}),e.jsxs(J,{spacing:1,children:[e.jsxs(r,{variant:"body2",children:["1. ",e.jsx("strong",{children:"Review Pending Requests"}),' - Check REQ-1001 and REQ-1005 in "Pending Approval"']}),e.jsxs(r,{variant:"body2",children:["2. ",e.jsx("strong",{children:"Approve/Deny Requests"}),' - Click "Review" to approve or deny requests']}),e.jsxs(r,{variant:"body2",children:["3. ",e.jsx("strong",{children:"Issue Approved Items"}),' - Check REQ-1002 in "Approved" section, click "Issue Items"']}),e.jsxs(r,{variant:"body2",children:["4. ",e.jsx("strong",{children:"Scan Barcodes"})," - Simulate scanning each item's barcode"]}),e.jsxs(r,{variant:"body2",children:["5. ",e.jsx("strong",{children:"Digital Signature"})," - Employee acknowledges receipt by signing"]}),e.jsxs(r,{variant:"body2",children:["6. ",e.jsx("strong",{children:"Complete Issuance"}),' - Request moves to "Issued Items" section']})]})]})]})}export{ft as default};
