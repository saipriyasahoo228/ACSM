import{r as b,j as n}from"./index-BGNTJdXh.js";import{i as Bt,h as Vt,s as q,j as ot,m as me,u as Gt,l as Ut,P as Ot,g as At,B as Se,C as Qt,T as K,a as Jt,b as Xt,c as Yt,d as bt,e as D,f as Zt}from"./TableRow-C4o90wkq.js";import{C as eo,S as Je}from"./Stack-E8fi16_w.js";import{b as to,f as Xe,s as oo,u as Pt,B as yt}from"./Modal-ZZY8XqvI.js";import{A as no}from"./Add-Gh8GPDgX.js";import{C as Ze}from"./Chip-DmP6IT89.js";import{I as tt,D as ro}from"./Delete-DvimuwFG.js";import{E as so}from"./Edit-BfV3dxxs.js";import{D as ao,a as io,b as lo,c as po}from"./DialogTitle-DPXgBb11.js";import{c as et}from"./clsx-B-dksMZM.js";import{a as It,i as Ct,b as ge,o as Et,c as Oe,A as co}from"./Select-F_BpfjE_.js";import{C as uo,D as fo}from"./Divider-DurfMvqO.js";import{P as Kt}from"./Popper-C5oC5a0w.js";import{T as Tt}from"./TextField-C5AhNtWj.js";import{C as go}from"./Checkbox-CWbUzjjm.js";import"./Transition-DLxW4k6f.js";import"./index-Czq5OslL.js";import"./InputLabel-BM8oE66Y.js";import"./isMuiElement-D3LEzrLO.js";import"./SwitchBase-k748bBCE.js";const mo=o=>{const s=b.useRef({});return b.useEffect(()=>{s.current=o}),s.current};function Mt({array1:o,array2:s,parser:u=f=>f}){return o&&s&&o.length===s.length&&o.every((f,y)=>u(f)===u(s[y]))}function Ft(o){return o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ho(o={}){const{ignoreAccents:s=!0,ignoreCase:u=!0,limit:f,matchFrom:y="any",stringify:L,trim:x=!1}=o;return(C,{inputValue:N,getOptionLabel:T})=>{let O=x?N.trim():N;u&&(O=O.toLowerCase()),s&&(O=Ft(O));const _=O?C.filter(te=>{let a=(L||T)(te);return u&&(a=a.toLowerCase()),s&&(a=Ft(a)),y==="start"?a.startsWith(O):a.includes(O)}):C;return typeof f=="number"?_.slice(0,f):_}}const xo=ho(),bo=5,Po=o=>{var s;return o.current!==null&&((s=o.current.parentElement)==null?void 0:s.contains(document.activeElement))},yo=[];function Nt(o,s,u,f){if(s||o==null||f)return"";const y=u(o);return typeof y=="string"?y:""}function Io(o){const{unstable_isActiveElementInListbox:s=Po,unstable_classNamePrefix:u="Mui",autoComplete:f=!1,autoHighlight:y=!1,autoSelect:L=!1,blurOnSelect:x=!1,clearOnBlur:C=!o.freeSolo,clearOnEscape:N=!1,componentName:T="useAutocomplete",defaultValue:O=o.multiple?yo:null,disableClearable:_=!1,disableCloseOnSelect:te=!1,disabled:a,disabledItemsFocusable:d=!1,disableListWrap:A=!1,filterOptions:G=xo,filterSelectedOptions:he=!1,freeSolo:xe=!1,getOptionDisabled:U,getOptionKey:Te,getOptionLabel:nt=t=>t.label??t,groupBy:le,handleHomeEndKeys:rt=!o.freeSolo,id:jt,includeInputInList:Ae=!1,inputValue:Me,isOptionEqualToValue:pe=(t,e)=>t===e,multiple:g=!1,onChange:st,onClose:at,onHighlightChange:Fe,onInputChange:oe,onOpen:Ne,open:vt,openOnFocus:$t=!1,options:kt,readOnly:Q=!1,renderValue:w,selectOnFocus:it=!o.freeSolo,value:_e}=o,M=to(jt);let j=nt;j=t=>{const e=nt(t);return typeof e!="string"?String(e):e};const je=b.useRef(!1),ve=b.useRef(!0),k=b.useRef(null),z=b.useRef(null),[$e,Rt]=b.useState(null),[F,ze]=b.useState(-1),lt=y?0:-1,R=b.useRef(lt),Lt=b.useRef(Nt(O??_e,g,j)).current,[l,ke]=It({controlled:_e,default:O,name:T}),[h,ce]=It({controlled:Me,default:Lt,name:T,state:"inputValue"}),[be,qe]=b.useState(!1),Pe=b.useCallback((t,e,r)=>{if(!(g?l.length<e.length:e!==null)&&!C)return;const p=Nt(e,g,j,w);h!==p&&(ce(p),oe&&oe(t,p,r))},[j,h,g,oe,ce,C,l,w]),[J,ue]=It({controlled:vt,default:!1,name:T,state:"open"}),[Dt,ye]=b.useState(!0),He=!g&&l!=null&&h===j(l),E=J&&!Q,P=E?G(kt.filter(t=>!(he&&(g?l:[l]).some(e=>e!==null&&pe(t,e)))),{inputValue:He&&Dt?"":h,getOptionLabel:j}):[],H=mo({filteredOptions:P,value:l,inputValue:h});b.useEffect(()=>{const t=l!==H.value;be&&!t||xe&&!t||Pe(null,l,"reset")},[l,Pe,be,H.value,xe]);const We=J&&P.length>0&&!Q,W=Xe(t=>{if(t===-1)k.current.focus();else{const e=w?"data-item-index":"data-tag-index";$e.querySelector(`[${e}="${t}"]`).focus()}});b.useEffect(()=>{g&&F>l.length-1&&(ze(-1),W(-1))},[l,g,F,W]);function pt(t,e){if(!z.current||t<0||t>=P.length)return-1;let r=t;for(;;){const i=z.current.querySelector(`[data-option-index="${r}"]`),p=d?!1:!i||i.disabled||i.getAttribute("aria-disabled")==="true";if(i&&i.hasAttribute("tabindex")&&!p)return r;if(e==="next"?r=(r+1)%P.length:r=(r-1+P.length)%P.length,r===t)return-1}}const X=Xe(({event:t,index:e,reason:r})=>{if(R.current=e,e===-1?k.current.removeAttribute("aria-activedescendant"):k.current.setAttribute("aria-activedescendant",`${M}-option-${e}`),Fe&&["mouse","keyboard","touch"].includes(r)&&Fe(t,e===-1?null:P[e],r),!z.current)return;const i=z.current.querySelector(`[role="option"].${u}-focused`);i&&(i.classList.remove(`${u}-focused`),i.classList.remove(`${u}-focusVisible`));let p=z.current;if(z.current.getAttribute("role")!=="listbox"&&(p=z.current.parentElement.querySelector('[role="listbox"]')),!p)return;if(e===-1){p.scrollTop=0;return}const $=z.current.querySelector(`[data-option-index="${e}"]`);if($&&($.classList.add(`${u}-focused`),r==="keyboard"&&$.classList.add(`${u}-focusVisible`),p.scrollHeight>p.clientHeight&&r!=="mouse"&&r!=="touch")){const I=$,V=p.clientHeight+p.scrollTop,Ue=I.offsetTop+I.offsetHeight;Ue>V?p.scrollTop=Ue-p.clientHeight:I.offsetTop-I.offsetHeight*(le?1.3:0)<p.scrollTop&&(p.scrollTop=I.offsetTop-I.offsetHeight*(le?1.3:0))}}),B=Xe(({event:t,diff:e,direction:r="next",reason:i})=>{if(!E)return;const $=pt((()=>{const I=P.length-1;if(e==="reset")return lt;if(e==="start")return 0;if(e==="end")return I;const V=R.current+e;return V<0?V===-1&&Ae?-1:A&&R.current!==-1||Math.abs(e)>1?0:I:V>I?V===I+1&&Ae?-1:A||Math.abs(e)>1?I:0:V})(),r);if(X({index:$,reason:i,event:t}),f&&e!=="reset")if($===-1)k.current.value=h;else{const I=j(P[$]);k.current.value=I,I.toLowerCase().indexOf(h.toLowerCase())===0&&h.length>0&&k.current.setSelectionRange(h.length,I.length)}}),Be=!Mt({array1:H.filteredOptions,array2:P,parser:j}),ct=()=>{const t=(e,r)=>{const i=e?j(e):"",p=r?j(r):"";return i===p};if(R.current!==-1&&!Mt({array1:H.filteredOptions,array2:P,parser:j})&&H.inputValue===h&&(g?l.length===H.value.length&&H.value.every((e,r)=>j(l[r])===j(e)):t(H.value,l))){const e=H.filteredOptions[R.current];if(e)return P.findIndex(r=>j(r)===j(e))}return-1},Re=b.useCallback(()=>{if(!E)return;const t=ct();if(t!==-1){R.current=t;return}const e=g?l[0]:l;if(P.length===0||e==null){B({diff:"reset"});return}if(z.current){if(e!=null){const r=P[R.current];if(g&&r&&l.findIndex(p=>pe(r,p))!==-1)return;const i=P.findIndex(p=>pe(p,e));i===-1?B({diff:"reset"}):X({index:i});return}if(R.current>=P.length-1){X({index:P.length-1});return}X({index:R.current})}},[P.length,g?!1:l,he,B,X,E,h,g]),ne=Xe(t=>{oo(z,t),t&&Re()});b.useEffect(()=>{Be&&Re()},[Re,Be]);const Y=t=>{J||(ue(!0),ye(!0),Ne&&Ne(t))},de=(t,e)=>{J&&(ue(!1),at&&at(t,e))},Z=(t,e,r,i)=>{if(g){if(l.length===e.length&&l.every((p,$)=>p===e[$]))return}else if(l===e)return;st&&st(t,e,r,i),ke(e)},ee=b.useRef(!1),re=(t,e,r="selectOption",i="options")=>{let p=r,$=e;if(g){$=Array.isArray(l)?l.slice():[];const I=$.findIndex(V=>pe(e,V));I===-1?$.push(e):i!=="freeSolo"&&($.splice(I,1),p="removeOption")}Pe(t,$,p),Z(t,$,p,{option:e}),!te&&(!t||!t.ctrlKey&&!t.metaKey)&&de(t,p),(x===!0||x==="touch"&&ee.current||x==="mouse"&&!ee.current)&&k.current.blur()};function ut(t,e){if(t===-1)return-1;let r=t;for(;;){if(e==="next"&&r===l.length||e==="previous"&&r===-1)return-1;const i=w?"data-item-index":"data-tag-index",p=$e.querySelector(`[${i}="${r}"]`);if(!p||!p.hasAttribute("tabindex")||p.disabled||p.getAttribute("aria-disabled")==="true")r+=e==="next"?1:-1;else return r}}const fe=(t,e)=>{if(!g)return;h===""&&de(t,"toggleInput");let r=F;F===-1?h===""&&e==="previous"&&(r=l.length-1):(r+=e==="next"?1:-1,r<0&&(r=0),r===l.length&&(r=-1)),r=ut(r,e),ze(r),W(r)},Ve=t=>{je.current=!0,ce(""),oe&&oe(t,"","clear"),Z(t,g?[]:null,"clear")},dt=t=>e=>{if(t.onKeyDown&&t.onKeyDown(e),!e.defaultMuiPrevented&&(F!==-1&&!["ArrowLeft","ArrowRight"].includes(e.key)&&(ze(-1),W(-1)),e.which!==229))switch(e.key){case"Home":E&&rt&&(e.preventDefault(),B({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":E&&rt&&(e.preventDefault(),B({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),B({diff:-5,direction:"previous",reason:"keyboard",event:e}),Y(e);break;case"PageDown":e.preventDefault(),B({diff:bo,direction:"next",reason:"keyboard",event:e}),Y(e);break;case"ArrowDown":e.preventDefault(),B({diff:1,direction:"next",reason:"keyboard",event:e}),Y(e);break;case"ArrowUp":e.preventDefault(),B({diff:-1,direction:"previous",reason:"keyboard",event:e}),Y(e);break;case"ArrowLeft":!g&&w?W(0):fe(e,"previous");break;case"ArrowRight":!g&&w?W(-1):fe(e,"next");break;case"Enter":if(R.current!==-1&&E){const r=P[R.current],i=U?U(r):!1;if(e.preventDefault(),i)return;re(e,r,"selectOption"),f&&k.current.setSelectionRange(k.current.value.length,k.current.value.length)}else xe&&h!==""&&He===!1&&(g&&e.preventDefault(),re(e,h,"createOption","freeSolo"));break;case"Escape":E?(e.preventDefault(),e.stopPropagation(),de(e,"escape")):N&&(h!==""||g&&l.length>0||w)&&(e.preventDefault(),e.stopPropagation(),Ve(e));break;case"Backspace":if(g&&!Q&&h===""&&l.length>0){const r=F===-1?l.length-1:F,i=l.slice();i.splice(r,1),Z(e,i,"removeOption",{option:l[r]})}!g&&w&&!Q&&(ke(null),W(-1));break;case"Delete":if(g&&!Q&&h===""&&l.length>0&&F!==-1){const r=F,i=l.slice();i.splice(r,1),Z(e,i,"removeOption",{option:l[r]})}!g&&w&&!Q&&(ke(null),W(-1));break}},Ie=t=>{qe(!0),$t&&!je.current&&Y(t)},Ce=t=>{if(s(z)){k.current.focus();return}qe(!1),ve.current=!0,je.current=!1,L&&R.current!==-1&&E?re(t,P[R.current],"blur"):L&&xe&&h!==""?re(t,h,"blur","freeSolo"):C&&Pe(t,l,"blur"),de(t,"blur")},Le=t=>{const e=t.target.value;h!==e&&(ce(e),ye(!1),oe&&oe(t,e,"input")),e===""?!_&&!g&&Z(t,null,"clear"):Y(t)},ft=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));R.current!==e&&X({event:t,index:e,reason:"mouse"})},gt=t=>{X({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ee.current=!0},mt=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));re(t,P[e],"selectOption"),ee.current=!1},ht=t=>e=>{const r=l.slice();r.splice(t,1),Z(e,r,"removeOption",{option:l[t]})},De=t=>{Z(t,null,"removeOption",{option:l})},S=t=>{J?de(t,"toggleInput"):Y(t)},v=t=>{t.currentTarget.contains(t.target)&&t.target.getAttribute("id")!==M&&t.preventDefault()},se=t=>{t.currentTarget.contains(t.target)&&(k.current.focus(),it&&ve.current&&k.current.selectionEnd-k.current.selectionStart===0&&k.current.select(),ve.current=!1)},xt=t=>{!a&&(h===""||!J)&&S(t)};let we=xe&&h.length>0;we=we||(g?l.length>0:l!==null);let Ge=P;return le&&(Ge=P.reduce((t,e,r)=>{const i=le(e);return t.length>0&&t[t.length-1].group===i?t[t.length-1].options.push(e):t.push({key:r,index:r,group:i,options:[e]}),t},[])),a&&be&&Ce(),{getRootProps:(t={})=>({...t,onKeyDown:dt(t),onMouseDown:v,onClick:se}),getInputLabelProps:()=>({id:`${M}-label`,htmlFor:M}),getInputProps:()=>({id:M,value:h,onBlur:Ce,onFocus:Ie,onChange:Le,onMouseDown:xt,"aria-activedescendant":E?"":null,"aria-autocomplete":f?"both":"list","aria-controls":We?`${M}-listbox`:void 0,"aria-expanded":We,autoComplete:"off",ref:k,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:a}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ve}),getItemProps:({index:t=0}={})=>({...g&&{key:t},...w?{"data-item-index":t}:{"data-tag-index":t},tabIndex:-1,...!Q&&{onDelete:g?ht(t):De}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:S}),getTagProps:({index:t})=>({key:t,"data-tag-index":t,tabIndex:-1,...!Q&&{onDelete:ht(t)}}),getListboxProps:()=>({role:"listbox",id:`${M}-listbox`,"aria-labelledby":`${M}-label`,ref:ne,onMouseDown:t=>{t.preventDefault()}}),getOptionProps:({index:t,option:e})=>{const r=(g?l:[l]).some(p=>p!=null&&pe(e,p)),i=U?U(e):!1;return{key:(Te==null?void 0:Te(e))??j(e),tabIndex:-1,role:"option",id:`${M}-option-${t}`,onMouseMove:ft,onClick:mt,onTouchStart:gt,"data-option-index":t,"aria-disabled":i,"aria-selected":r}},id:M,inputValue:h,value:l,dirty:we,expanded:E&&$e,popupOpen:E,focused:be||F!==-1,anchorEl:$e,setAnchorEl:Rt,focusedItem:F,focusedTag:F,groupedOptions:Ge}}function Co(o){return Bt("MuiListSubheader",o)}Vt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const So=o=>{const{classes:s,color:u,disableGutters:f,inset:y,disableSticky:L}=o,x={root:["root",u!=="default"&&`color${ot(u)}`,!f&&"gutters",y&&"inset",!L&&"sticky"]};return Ut(x,Co,s)},Oo=q("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:u}=o;return[s.root,u.color!=="default"&&s[`color${ot(u.color)}`],!u.disableGutters&&s.gutters,u.inset&&s.inset,!u.disableSticky&&s.sticky]}})(me(({theme:o})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(o.vars||o).palette.text.secondary,fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(o.vars||o).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.inset,style:{paddingLeft:72}},{props:({ownerState:s})=>!s.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(o.vars||o).palette.background.paper}}]}))),St=b.forwardRef(function(s,u){const f=Gt({props:s,name:"MuiListSubheader"}),{className:y,color:L="default",component:x="li",disableGutters:C=!1,disableSticky:N=!1,inset:T=!1,...O}=f,_={...f,color:L,component:x,disableGutters:C,disableSticky:N,inset:T},te=So(_);return n.jsx(Oo,{as:x,className:et(te.root,y),ref:u,ownerState:_,...O})});St&&(St.muiSkipListHighlight=!0);function Ao(o){return Bt("MuiAutocomplete",o)}const c=Vt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var _t,zt;const jo=o=>{const{classes:s,disablePortal:u,expanded:f,focused:y,fullWidth:L,hasClearIcon:x,hasPopupIcon:C,inputFocused:N,popupOpen:T,size:O}=o,_={root:["root",f&&"expanded",y&&"focused",L&&"fullWidth",x&&"hasClearIcon",C&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",N&&"inputFocused"],tag:["tag",`tagSize${ot(O)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",T&&"popupIndicatorOpen"],popper:["popper",u&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ut(_,Ao,s)},vo=q("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:u}=o,{fullWidth:f,hasClearIcon:y,hasPopupIcon:L,inputFocused:x,size:C}=u;return[{[`& .${c.tag}`]:s.tag},{[`& .${c.tag}`]:s[`tagSize${ot(C)}`]},{[`& .${c.inputRoot}`]:s.inputRoot},{[`& .${c.input}`]:s.input},{[`& .${c.input}`]:x&&s.inputFocused},s.root,f&&s.fullWidth,L&&s.hasPopupIcon,y&&s.hasClearIcon]}})({[`&.${c.focused} .${c.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${c.clearIndicator}`]:{visibility:"visible"}},[`& .${c.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${c.inputRoot}`]:{[`.${c.hasPopupIcon}&, .${c.hasClearIcon}&`]:{paddingRight:30},[`.${c.hasPopupIcon}.${c.hasClearIcon}&`]:{paddingRight:56},[`& .${c.input}`]:{width:0,minWidth:30}},[`& .${Ct.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ct.root}.${ge.sizeSmall}`]:{[`& .${Ct.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Et.root}`]:{padding:9,[`.${c.hasPopupIcon}&, .${c.hasClearIcon}&`]:{paddingRight:39},[`.${c.hasPopupIcon}.${c.hasClearIcon}&`]:{paddingRight:65},[`& .${c.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${c.endAdornment}`]:{right:9}},[`& .${Et.root}.${ge.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${c.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Oe.root}`]:{paddingTop:19,paddingLeft:8,[`.${c.hasPopupIcon}&, .${c.hasClearIcon}&`]:{paddingRight:39},[`.${c.hasPopupIcon}.${c.hasClearIcon}&`]:{paddingRight:65},[`& .${Oe.input}`]:{padding:"7px 4px"},[`& .${c.endAdornment}`]:{right:9}},[`& .${Oe.root}.${ge.sizeSmall}`]:{paddingBottom:1,[`& .${Oe.input}`]:{padding:"2.5px 4px"}},[`& .${ge.hiddenLabel}`]:{paddingTop:8},[`& .${Oe.root}.${ge.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${c.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Oe.root}.${ge.hiddenLabel}.${ge.sizeSmall}`]:{[`& .${c.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${c.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${c.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${c.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${c.inputRoot}`]:{flexWrap:"wrap"}}}]}),$o=q("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),ko=q(tt,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),Ro=q(tt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(o,s)=>{const{ownerState:u}=o;return[s.popupIndicator,u.popupOpen&&s.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Lo=q(Kt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(o,s)=>{const{ownerState:u}=o;return[{[`& .${c.option}`]:s.option},s.popper,u.disablePortal&&s.popperDisablePortal]}})(me(({theme:o})=>({zIndex:(o.vars||o).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Do=q(Ot,{name:"MuiAutocomplete",slot:"Paper"})(me(({theme:o})=>({...o.typography.body1,overflow:"auto"}))),wo=q("div",{name:"MuiAutocomplete",slot:"Loading"})(me(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"}))),Eo=q("div",{name:"MuiAutocomplete",slot:"NoOptions"})(me(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"}))),To=q("ul",{name:"MuiAutocomplete",slot:"Listbox"})(me(({theme:o})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${c.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[o.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${c.focused}`]:{backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(o.vars||o).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${c.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:o.alpha((o.vars||o).palette.primary.main,(o.vars||o).palette.action.selectedOpacity),[`&.${c.focused}`]:{backgroundColor:o.alpha((o.vars||o).palette.primary.main,`${(o.vars||o).palette.action.selectedOpacity} + ${(o.vars||o).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(o.vars||o).palette.action.selected}},[`&.${c.focusVisible}`]:{backgroundColor:o.alpha((o.vars||o).palette.primary.main,`${(o.vars||o).palette.action.selectedOpacity} + ${(o.vars||o).palette.action.focusOpacity}`)}}}}))),Mo=q(St,{name:"MuiAutocomplete",slot:"GroupLabel"})(me(({theme:o})=>({backgroundColor:(o.vars||o).palette.background.paper,top:-8}))),Fo=q("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${c.option}`]:{paddingLeft:24}}),qt=b.forwardRef(function(s,u){const f=Gt({props:s,name:"MuiAutocomplete"}),{autoComplete:y=!1,autoHighlight:L=!1,autoSelect:x=!1,blurOnSelect:C=!1,ChipProps:N,className:T,clearIcon:O=_t||(_t=n.jsx(uo,{fontSize:"small"})),clearOnBlur:_=!f.freeSolo,clearOnEscape:te=!1,clearText:a="Clear",closeText:d="Close",componentsProps:A,defaultValue:G=f.multiple?[]:null,disableClearable:he=!1,disableCloseOnSelect:xe=!1,disabled:U=!1,disabledItemsFocusable:Te=!1,disableListWrap:nt=!1,disablePortal:le=!1,filterOptions:rt,filterSelectedOptions:jt=!1,forcePopupIcon:Ae="auto",freeSolo:Me=!1,fullWidth:pe=!1,getLimitTagsText:g=m=>`+${m}`,getOptionDisabled:st,getOptionKey:at,getOptionLabel:Fe,isOptionEqualToValue:oe,groupBy:Ne,handleHomeEndKeys:vt=!f.freeSolo,id:$t,includeInputInList:kt=!1,inputValue:Q,limitTags:w=-1,ListboxComponent:it,ListboxProps:_e,loading:M=!1,loadingText:j="Loading…",multiple:je=!1,noOptionsText:ve="No options",onChange:k,onClose:z,onHighlightChange:$e,onInputChange:Rt,onOpen:F,open:ze,openOnFocus:lt=!1,openText:R="Open",options:Lt,PaperComponent:l,PopperComponent:ke,popupIcon:h=zt||(zt=n.jsx(co,{})),readOnly:ce=!1,renderGroup:be,renderInput:qe,renderOption:Pe,renderTags:J,renderValue:ue,selectOnFocus:Dt=!f.freeSolo,size:ye="medium",slots:He={},slotProps:E={},value:P,...H}=f,{getRootProps:We,getInputProps:W,getInputLabelProps:pt,getPopupIndicatorProps:X,getClearProps:B,getItemProps:Be,getListboxProps:ct,getOptionProps:Re,value:ne,dirty:Y,expanded:de,id:Z,popupOpen:ee,focused:re,focusedItem:ut,anchorEl:fe,setAnchorEl:Ve,inputValue:dt,groupedOptions:Ie}=Io({...f,componentName:"Autocomplete"}),Ce=!he&&!U&&Y&&!ce,Le=(!Me||Ae===!0)&&Ae!==!1,{onMouseDown:ft}=W(),{ref:gt,...mt}=ct(),De=Fe||(m=>m.label??m),S={...f,disablePortal:le,expanded:de,focused:re,fullWidth:pe,getOptionLabel:De,hasClearIcon:Ce,hasPopupIcon:Le,inputFocused:ut===-1,popupOpen:ee,size:ye},v=jo(S),se={slots:{paper:l,popper:ke,...He},slotProps:{chip:N,listbox:_e,...A,...E}},[xt,we]=Pt("listbox",{elementType:To,externalForwardedProps:se,ownerState:S,className:v.listbox,additionalProps:mt,ref:gt}),[Ge,t]=Pt("paper",{elementType:Ot,externalForwardedProps:se,ownerState:S,className:v.paper}),[e,r]=Pt("popper",{elementType:Kt,externalForwardedProps:se,ownerState:S,className:v.popper,additionalProps:{disablePortal:le,style:{width:fe?fe.clientWidth:null},role:"presentation",anchorEl:fe,open:ee}});let i;const p=m=>({className:v.tag,disabled:U,...Be(m)});if(je?ne.length>0&&(J?i=J(ne,p,S):ue?i=ue(ne,p,S):i=ne.map((m,ae)=>{const{key:ie,...Ee}=p({index:ae});return n.jsx(Ze,{label:De(m),size:ye,...Ee,...se.slotProps.chip},ie)})):ue&&ne!=null&&(i=ue(ne,p,S)),w>-1&&Array.isArray(i)){const m=i.length-w;!re&&m>0&&(i=i.splice(0,w),i.push(n.jsx("span",{className:v.tag,children:g(m)},i.length)))}const I=be||(m=>n.jsxs("li",{children:[n.jsx(Mo,{className:v.groupLabel,ownerState:S,component:"div",children:m.group}),n.jsx(Fo,{className:v.groupUl,ownerState:S,children:m.children})]},m.key)),Ue=Pe||((m,ae)=>{const{key:ie,...Ee}=m;return n.jsx("li",{...Ee,children:De(ae)},ie)}),wt=(m,ae)=>{const ie=Re({option:m,index:ae});return Ue({...ie,className:v.option},m,{selected:ie["aria-selected"],index:ae,inputValue:dt},S)},Ke=se.slotProps.clearIndicator,Qe=se.slotProps.popupIndicator;return n.jsxs(b.Fragment,{children:[n.jsx(vo,{ref:u,className:et(v.root,T),ownerState:S,...We(H),children:qe({id:Z,disabled:U,fullWidth:!0,size:ye==="small"?"small":void 0,InputLabelProps:pt(),InputProps:{ref:Ve,className:v.inputRoot,startAdornment:i,onMouseDown:m=>{m.target===m.currentTarget&&ft(m)},...(Ce||Le)&&{endAdornment:n.jsxs($o,{className:v.endAdornment,ownerState:S,children:[Ce?n.jsx(ko,{...B(),"aria-label":a,title:a,ownerState:S,...Ke,className:et(v.clearIndicator,Ke==null?void 0:Ke.className),children:O}):null,Le?n.jsx(Ro,{...X(),disabled:U,"aria-label":ee?d:R,title:ee?d:R,ownerState:S,...Qe,className:et(v.popupIndicator,Qe==null?void 0:Qe.className),children:h}):null]})}},inputProps:{className:v.input,disabled:U,readOnly:ce,...W()}})}),fe?n.jsx(Lo,{as:e,...r,children:n.jsxs(Do,{as:Ge,...t,children:[M&&Ie.length===0?n.jsx(wo,{className:v.loading,ownerState:S,children:j}):null,Ie.length===0&&!Me&&!M?n.jsx(Eo,{className:v.noOptions,ownerState:S,role:"presentation",onMouseDown:m=>{m.preventDefault()},children:ve}):null,Ie.length>0?n.jsx(xt,{as:it,...we,children:Ie.map((m,ae)=>Ne?I({key:m.key,group:m.group,children:m.options.map((ie,Ee)=>wt(ie,m.index+Ee))}):wt(m,ae))}):null]})}):null]})}),No=At(n.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),_o=At(n.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),Ht=At(n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Ye=[{id:"PPE-001",name:"Safety Helmet",renewal:12,category:"Head Protection"},{id:"PPE-002",name:"Acid-Resistant Gloves",renewal:6,category:"Hand Protection"},{id:"PPE-003",name:"Safety Shoes",renewal:18,category:"Foot Protection"},{id:"PPE-004",name:"Face Shield",renewal:12,category:"Face Protection"}],Wt=[{id:"EMP-001",name:"Rajesh Kumar",code:"RK01",department:"Welding"},{id:"EMP-002",name:"Priya Sharma",code:"PS02",department:"Electrical"},{id:"EMP-003",name:"Amit Patel",code:"AP03",department:"Mechanical"}],zo=n.jsx(_o,{fontSize:"small"}),qo=n.jsx(No,{fontSize:"small"});function pn(){const[o,s]=b.useState([]),[u,f]=b.useState(!1),[y,L]=b.useState(null),[x,C]=b.useState({employee_name:"",employee_id:"",department:"",requested_items:[],approval_status:"Pending",request_date:""}),N=()=>{L(null),C({employee_name:"",employee_id:"",department:"",requested_items:[],approval_status:"Pending",request_date:new Date().toISOString().split("T")[0]}),f(!0)},T=a=>{L(a),C(o[a]),f(!0)},O=()=>{if(!x.employee_name||x.requested_items.length===0){alert("Please select an employee and at least one PPE item");return}const a={...x,request_id:y!==null?x.request_id:`REQ-${o.length+1}`,request_date:new Date().toISOString().split("T")[0],module:"contractor"};if(y!==null){const d=[...o];d[y]=a,s(d)}else s([a,...o]);f(!1)},_=a=>{if(window.confirm("Are you sure you want to delete this request?")){const d=[...o];d.splice(a,1),s(d)}},te=a=>{switch(a){case"Approved":return"success";case"Issued":return"info";case"Denied":return"error";case"Pending":return"warning";default:return"default"}};return n.jsxs(Se,{sx:{p:3},children:[n.jsxs(Qt,{sx:{borderLeft:"6px solid #0A3A6E",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",borderRadius:2},children:[n.jsx(eo,{title:n.jsxs(K,{variant:"h5",sx:{color:"#0A3A6E",fontWeight:600},children:[n.jsx(Ht,{sx:{mr:1,verticalAlign:"middle"}}),"Contractor Admin - PPE Requests"]}),subheader:"Create and manage PPE issuance requests for your employees",action:n.jsx(yt,{variant:"contained",startIcon:n.jsx(no,{}),onClick:N,sx:{backgroundColor:"#0A3A6E",color:"#fff",borderRadius:2,px:3,"&:hover":{backgroundColor:"#082A52"}},children:"New Request"})}),n.jsx(Jt,{children:n.jsxs(Xt,{children:[n.jsx(Yt,{children:n.jsxs(bt,{sx:{backgroundColor:"#E3EAFD"},children:[n.jsx(D,{children:"Request ID"}),n.jsx(D,{children:"Employee"}),n.jsx(D,{children:"Department"}),n.jsx(D,{children:"Requested Items"}),n.jsx(D,{children:"Status"}),n.jsx(D,{children:"Request Date"}),n.jsx(D,{children:"Actions"})]})}),n.jsxs(Zt,{children:[o.map((a,d)=>n.jsxs(bt,{sx:{"&:hover":{backgroundColor:"#f8f9fa"}},children:[n.jsx(D,{children:n.jsx(K,{sx:{fontWeight:600,fontSize:"0.875rem"},children:a.request_id})}),n.jsx(D,{children:n.jsxs(Se,{children:[n.jsx(K,{sx:{fontWeight:600,fontSize:"0.875rem"},children:a.employee_name}),n.jsx(K,{sx:{color:"text.secondary",fontSize:"0.75rem"},children:a.employee_id})]})}),n.jsx(D,{children:a.department}),n.jsx(D,{children:n.jsx(Je,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,children:a.requested_items.map(A=>{const G=Ye.find(he=>he.id===A);return n.jsx(Ze,{label:G==null?void 0:G.name,size:"small",sx:{mb:.5}},A)})})}),n.jsx(D,{children:n.jsx(Ze,{label:a.approval_status,color:te(a.approval_status),size:"small"})}),n.jsx(D,{children:a.request_date}),n.jsx(D,{children:n.jsxs(Je,{direction:"row",spacing:.5,children:[a.approval_status==="Pending"&&n.jsx(tt,{color:"primary",onClick:()=>T(d),size:"small",title:"Edit Request",children:n.jsx(so,{})}),n.jsx(tt,{color:"error",onClick:()=>_(d),size:"small",title:"Delete Request",children:n.jsx(ro,{})})]})})]},d)),o.length===0&&n.jsx(bt,{children:n.jsx(D,{colSpan:7,align:"center",sx:{py:4},children:n.jsxs(K,{color:"text.secondary",children:["No requests created yet. Click ",n.jsx("b",{children:"New Request"})," to create one."]})})})]})]})})]}),n.jsxs(ao,{open:u,onClose:()=>f(!1),fullWidth:!0,maxWidth:"md",PaperProps:{sx:{borderRadius:3,boxShadow:"0 10px 40px rgba(0,0,0,0.1)"}},children:[n.jsxs(io,{sx:{backgroundColor:"#0A3A6E",color:"white",fontWeight:600,py:3},children:[n.jsx(Ht,{sx:{mr:1,verticalAlign:"middle"}}),y!==null?"Edit PPE Request":"New PPE Request"]}),n.jsx(lo,{sx:{p:4},children:n.jsxs(Je,{spacing:4,children:[n.jsxs(Se,{children:[n.jsx(K,{variant:"h6",sx:{fontWeight:600,mb:2,color:"#0A3A6E"},children:"Select Employee"}),n.jsx(qt,{options:Wt,getOptionLabel:a=>`${a.name} (${a.code}) - ${a.department}`,value:Wt.find(a=>a.id===x.employee_id)||null,onChange:(a,d)=>{C(A=>({...A,employee_id:(d==null?void 0:d.id)||"",employee_name:(d==null?void 0:d.name)||"",department:(d==null?void 0:d.department)||""}))},renderInput:a=>n.jsx(Tt,{...a,placeholder:"Search employee by name or code",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#f8f9fa"}}}),isOptionEqualToValue:(a,d)=>a.id===d.id})]}),n.jsx(fo,{}),n.jsxs(Se,{children:[n.jsx(K,{variant:"h6",sx:{fontWeight:600,mb:2,color:"#0A3A6E"},children:"Select PPE Items"}),n.jsxs(Ot,{variant:"outlined",sx:{p:2,borderRadius:2,backgroundColor:"#f8f9fa"},children:[n.jsx(qt,{multiple:!0,options:Ye,disableCloseOnSelect:!0,getOptionLabel:a=>a.name,value:Ye.filter(a=>x.requested_items.includes(a.id)),onChange:(a,d)=>{C(A=>({...A,requested_items:d.map(G=>G.id)}))},renderOption:(a,d,{selected:A})=>n.jsxs("li",{...a,style:{padding:"12px 16px",borderBottom:"1px solid #e0e0e0"},children:[n.jsx(go,{icon:zo,checkedIcon:qo,style:{marginRight:12},checked:A}),n.jsxs(Se,{children:[n.jsx(K,{variant:"body1",fontWeight:500,children:d.name}),n.jsxs(K,{variant:"caption",color:"text.secondary",children:[d.category," • Renewal: ",d.renewal," months"]})]})]}),renderInput:a=>n.jsx(Tt,{...a,placeholder:"Choose PPE items from the list",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"white"}}})}),x.requested_items.length>0&&n.jsxs(Se,{sx:{mt:2,p:2,backgroundColor:"white",borderRadius:2},children:[n.jsxs(K,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:["Selected Items (",x.requested_items.length,")"]}),n.jsx(Je,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:x.requested_items.map(a=>{const d=Ye.find(A=>A.id===a);return n.jsx(Ze,{label:d==null?void 0:d.name,size:"small",variant:"outlined",onDelete:()=>{C(A=>({...A,requested_items:A.requested_items.filter(G=>G!==a)}))}},a)})})]})]})]})]})}),n.jsxs(po,{sx:{p:3,gap:2},children:[n.jsx(yt,{onClick:()=>f(!1),variant:"outlined",sx:{borderRadius:2,px:4},children:"Cancel"}),n.jsx(yt,{variant:"contained",onClick:O,sx:{backgroundColor:"#0A3A6E",borderRadius:2,px:4,fontWeight:600,"&:hover":{backgroundColor:"#082A52"}},children:y!==null?"Save Changes":"Create Request"})]})]})]})}export{pn as default};
