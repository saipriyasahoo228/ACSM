import{j as e,r as m}from"./index-o2L8XDyT.js";import{f as ee,s as A,r as te,m as oe,g as se,h as ne,i as U,j as H,u as de,k as ae,B,C as ce,T as b,a as ue,b as xe,c as M,d as i,e as me}from"./TableRow-LAUI0Gax.js";import{C as he}from"./CardContent-y0pBm6N5.js";import{c as pe,u as je,B as y}from"./Modal-DwRNYzNZ.js";import{A as _}from"./Add-BlVAoHYJ.js";import{V as W}from"./Visibility-c_HAbYea.js";import{I as q}from"./IconButton-BsqESdtl.js";import{E as fe}from"./Edit-CN0OCPew.js";import{D as ge}from"./Delete-eFAeh1u5.js";import{D as Z,a as J,b as K,c as X}from"./DialogTitle--WyXxo1x.js";import{G as x}from"./Grid-B_cFiybh.js";import{T as p}from"./TextField-CqNGJcSQ.js";import{M as V}from"./MenuItem-DD5KVmZ_.js";import{A as ve,a as Ce,b as be}from"./AccordionSummary-2J5VK3H5.js";import{E as ye}from"./ExpandMore-C-71Y4UC.js";import{C as Re}from"./Close-udrwxzZn.js";import{F as ze,a as Se}from"./InputLabel-DN3vyk4T.js";import{c as re}from"./clsx-B-dksMZM.js";import{u as ke,a as Qe}from"./Select-BAX3otil.js";import{u as Pe,a as De}from"./ButtonBase-E3CKQj5Y.js";import{F as Oe}from"./FormGroup-sVsNOxrw.js";import{F as Fe}from"./FormControlLabel-rLrVzHGo.js";import{S as Ee}from"./SwitchBase-BPJm9kF7.js";import"./Transition-Dl-PhuCn.js";import"./TransitionGroupContext-Dcol0yJe.js";import"./isMuiElement-Dd7xnTXW.js";import"./dividerClasses-AJeEqX5c.js";import"./Collapse-D8mIRDQF.js";import"./index-DMX1Y610.js";const Ie=ee(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Ne=ee(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),we=A("span",{name:"MuiRadioButtonIcon",shouldForwardProp:te})({position:"relative",display:"flex"}),Te=A(Ie,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),Ue=A(Ne,{name:"MuiRadioButtonIcon"})(oe(({theme:o})=>({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}}]})));function ie(o){const{checked:n=!1,classes:l={},fontSize:c}=o,h={...o,checked:n};return e.jsxs(we,{className:l.root,ownerState:h,children:[e.jsx(Te,{fontSize:c,className:l.background,ownerState:h}),e.jsx(Ue,{fontSize:c,className:l.dot,ownerState:h})]})}const le=m.createContext(void 0);function Ae(){return m.useContext(le)}function Be(o){return ne("MuiRadio",o)}const Y=se("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Me=o=>{const{classes:n,color:l,size:c}=o,h={root:["root",`color${U(l)}`,c!=="medium"&&`size${U(c)}`]};return{...n,...ae(h,Be,n)}},We=A(Ee,{shouldForwardProp:o=>te(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:l}=o;return[n.root,l.size!=="medium"&&n[`size${U(l.size)}`],n[`color${U(l.color)}`]]}})(oe(({theme:o})=>({color:(o.vars||o).palette.text.secondary,[`&.${Y.disabled}`]:{color:(o.vars||o).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.alpha((o.vars||o).palette.action.active,(o.vars||o).palette.action.hoverOpacity)}}},...Object.entries(o.palette).filter(H()).map(([n])=>({props:{color:n,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.alpha((o.vars||o).palette[n].main,(o.vars||o).palette.action.hoverOpacity)}}})),...Object.entries(o.palette).filter(H()).map(([n])=>({props:{color:n,disabled:!1},style:{[`&.${Y.checked}`]:{color:(o.vars||o).palette[n].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function qe(o,n){return typeof n=="object"&&n!==null?o===n:String(o)===String(n)}const Ve=e.jsx(ie,{checked:!0}),Ge=e.jsx(ie,{}),$e=m.forwardRef(function(n,l){const c=de({props:n,name:"MuiRadio"}),{checked:h,checkedIcon:f=Ve,color:E="primary",icon:R=Ge,name:g,onChange:D,size:z="medium",className:v,disabled:s,disableRipple:r=!1,slots:S={},slotProps:k={},inputProps:C,...I}=c,j=ke();let Q=s;j&&typeof Q>"u"&&(Q=j.disabled),Q??(Q=!1);const O={...c,disabled:Q,disableRipple:r,color:E,size:z},w=Me(O),P=Ae();let N=h;const T=pe(D,P&&P.onChange);let t=g;P&&(typeof N>"u"&&(N=qe(P.value,c.value)),typeof t>"u"&&(t=P.name));const a=k.input??C,[d,u]=Pe("root",{ref:l,elementType:We,className:re(w.root,v),shouldForwardComponentProp:!0,externalForwardedProps:{slots:S,slotProps:k,...I},getSlotProps:F=>({...F,onChange:(G,...$)=>{var L;(L=F.onChange)==null||L.call(F,G,...$),T(G,...$)}}),ownerState:O,additionalProps:{type:"radio",icon:m.cloneElement(R,{fontSize:R.props.fontSize??z}),checkedIcon:m.cloneElement(f,{fontSize:f.props.fontSize??z}),disabled:Q,name:t,checked:N,slots:S,slotProps:{input:typeof a=="function"?a(O):a}}});return e.jsx(d,{...u,classes:w})});function Le(o){return ne("MuiRadioGroup",o)}se("MuiRadioGroup",["root","row","error"]);const He=o=>{const{classes:n,row:l,error:c}=o;return ae({root:["root",l&&"row",c&&"error"]},Le,n)},_e=m.forwardRef(function(n,l){const{actions:c,children:h,className:f,defaultValue:E,name:R,onChange:g,value:D,...z}=n,v=m.useRef(null),s=He(n),[r,S]=Qe({controlled:D,default:E,name:"RadioGroup"});m.useImperativeHandle(c,()=>({focus:()=>{let j=v.current.querySelector("input:not(:disabled):checked");j||(j=v.current.querySelector("input:not(:disabled)")),j&&j.focus()}}),[]);const k=De(l,v),C=je(R),I=m.useMemo(()=>({name:C,onChange(j){S(j.target.value),g&&g(j,j.target.value)},value:r}),[C,g,S,r]);return e.jsx(le.Provider,{value:I,children:e.jsx(Oe,{role:"radiogroup",ref:k,className:re(s.root,f),...z,children:h})})}),zt=()=>{const[o,n]=m.useState([]),[l,c]=m.useState(!1),[h,f]=m.useState(null),[E,R]=m.useState(!1),[g,D]=m.useState([]),[z,v]=m.useState(""),[s,r]=m.useState({mode:"Online",name:"",site:"",trade:"",language:"EN",videoUrl:"",documentsUrl:"",description:"",validityDays:30,quizQuestions:[],trainer:"",date:"",duration:"",attendees:""}),S=[{code:"EN",label:"English"},{code:"HI",label:"Hindi"},{code:"OD",label:"Odia"},{code:"BN",label:"Bengali"},{code:"TA",label:"Tamil"},{code:"MR",label:"Marathi"}],k=(t=null,a=null)=>{t?(r(t),f(a)):(r({mode:"Online",name:"",site:"",trade:"",language:"EN",videoUrl:"",documentsUrl:"",description:"",validityDays:30,quizQuestions:[],trainer:"",date:"",duration:"",attendees:""}),f(null)),c(!0)},C=()=>{c(!1),r({mode:"Online",name:"",site:"",trade:"",language:"EN",videoUrl:"",documentsUrl:"",description:"",validityDays:30,quizQuestions:[],trainer:"",date:"",duration:"",attendees:""}),f(null)},I=()=>{if(h!==null){const t=[...o];t[h]=s,n(t)}else n([...o,s]);C()},j=t=>{const a=[...o];a.splice(t,1),n(a)},Q=()=>{r({...s,quizQuestions:[...s.quizQuestions,{question:"",options:["","","",""],correct:""}]})},O=(t,a,d)=>{const u=[...s.quizQuestions];u[t][a]=d,r({...s,quizQuestions:u})},w=(t,a,d)=>{const u=[...s.quizQuestions];u[t].options[a]=d,r({...s,quizQuestions:u})},P=t=>{const a=[...s.quizQuestions];a.splice(t,1),r({...s,quizQuestions:a})},N=t=>{D(t.quizQuestions||[]),v(t.name),R(!0)},T=()=>{R(!1),D([]),v("")};return e.jsxs(B,{p:3,children:[e.jsx(ce,{sx:{borderLeft:"6px solid #082A52",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",borderRadius:2},children:e.jsxs(he,{children:[e.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsx(b,{variant:"h6",children:"Training Programs"}),e.jsx(y,{startIcon:e.jsx(_,{}),onClick:()=>k(),sx:{color:"#0E4C92"},children:"Add Program"})]}),e.jsxs(ue,{children:[e.jsx(xe,{sx:{background:"#E3EAFD"},children:e.jsxs(M,{children:[e.jsx(i,{children:"Mode"}),e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Site"}),e.jsx(i,{children:"Trade"}),e.jsx(i,{children:"Language"}),e.jsx(i,{children:"Details"}),e.jsx(i,{children:"Validity"}),e.jsx(i,{children:"Quiz"}),e.jsx(i,{children:"Actions"})]})}),e.jsxs(me,{children:[o.map((t,a)=>e.jsxs(M,{children:[e.jsx(i,{children:t.mode}),e.jsx(i,{children:t.name}),e.jsx(i,{children:t.site}),e.jsx(i,{children:t.trade}),e.jsx(i,{children:t.language}),e.jsx(i,{children:t.mode==="Online"?e.jsxs(e.Fragment,{children:[t.videoUrl?e.jsx(y,{variant:"outlined",size:"small",startIcon:e.jsx(W,{}),sx:{color:"#7267EF",borderColor:"#7267EF"},href:t.videoUrl,target:"_blank",rel:"noopener noreferrer",children:"Video"}):"No Video"," | ",t.documentsUrl?e.jsx(y,{variant:"outlined",size:"small",startIcon:e.jsx(W,{}),sx:{color:"#28a745",borderColor:"#28a745"},href:t.documentsUrl,target:"_blank",rel:"noopener noreferrer",children:"Docs"}):"No Docs"]}):e.jsxs(e.Fragment,{children:[e.jsxs(b,{variant:"body2",children:["Trainer: ",t.trainer||"-"]}),e.jsxs(b,{variant:"body2",children:["Date: ",t.date||"-"]}),e.jsxs(b,{variant:"body2",children:["Duration: ",t.duration||"-"," hrs"]})]})}),e.jsx(i,{children:t.mode==="Online"?t.validityDays:"N/A"}),e.jsx(i,{children:t.mode==="Online"&&t.quizQuestions&&t.quizQuestions.length>0?e.jsx(y,{variant:"outlined",size:"small",startIcon:e.jsx(W,{}),onClick:()=>N(t),sx:{color:"#0E4C92"},children:"View Quiz"}):e.jsx(b,{variant:"body2",color:"textSecondary",children:t.mode==="Online"?"No quiz":"N/A"})}),e.jsxs(i,{children:[e.jsx(q,{color:"primary",onClick:()=>k(t,a),children:e.jsx(fe,{})}),e.jsx(q,{color:"error",onClick:()=>j(a),children:e.jsx(ge,{})})]})]},a)),o.length===0&&e.jsx(M,{children:e.jsx(i,{colSpan:9,align:"center",children:"No training programs added yet."})})]})]})]})}),e.jsxs(Z,{open:l,onClose:C,maxWidth:"md",fullWidth:!0,children:[e.jsx(J,{sx:{backgroundColor:"#0A3A6E",color:"white",fontWeight:600,py:3},children:h!==null?"Edit Program":"Add Program"}),e.jsx(K,{children:e.jsxs(x,{container:!0,spacing:2,mt:1,children:[e.jsx(x,{item:!0,xs:12,children:e.jsxs(p,{select:!0,fullWidth:!0,label:"Training Mode",value:s.mode,onChange:t=>r({...s,mode:t.target.value}),children:[e.jsx(V,{value:"Online",children:"Online"}),e.jsx(V,{value:"Offline",children:"Offline"})]})}),e.jsx(x,{item:!0,xs:12,children:e.jsx(p,{fullWidth:!0,label:"Program Name",value:s.name,onChange:t=>r({...s,name:t.target.value})})}),e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{fullWidth:!0,label:"Site",value:s.site,onChange:t=>r({...s,site:t.target.value})})}),e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{fullWidth:!0,label:"Trade",value:s.trade,onChange:t=>r({...s,trade:t.target.value})})}),e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{select:!0,fullWidth:!0,label:"Language",value:s.language,onChange:t=>r({...s,language:t.target.value}),children:S.map(t=>e.jsx(V,{value:t.code,children:t.label},t.code))})}),s.mode==="Online"&&e.jsxs(e.Fragment,{children:[e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{fullWidth:!0,label:"Video URL",value:s.videoUrl,onChange:t=>r({...s,videoUrl:t.target.value})})}),e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{fullWidth:!0,label:"Documents URL",value:s.documentsUrl,onChange:t=>r({...s,documentsUrl:t.target.value})})}),e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{type:"number",fullWidth:!0,label:"Validity (Days)",value:s.validityDays,onChange:t=>r({...s,validityDays:t.target.value})})}),e.jsx(x,{item:!0,xs:12,children:e.jsx(p,{multiline:!0,rows:3,fullWidth:!0,label:"Description",value:s.description,onChange:t=>r({...s,description:t.target.value})})}),e.jsxs(x,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle1",mb:1,children:"Quiz Questions"}),s.quizQuestions.map((t,a)=>e.jsxs(ve,{sx:{mb:1},children:[e.jsx(Ce,{expandIcon:e.jsx(ye,{}),children:t.question||`Question ${a+1}`}),e.jsxs(be,{children:[e.jsx(q,{size:"small",color:"error",onClick:()=>P(a),sx:{float:"right",mb:1},children:e.jsx(Re,{})}),e.jsx(p,{fullWidth:!0,label:"Question Text",value:t.question,onChange:d=>O(a,"question",d.target.value),margin:"dense"}),e.jsx(x,{container:!0,spacing:1,mt:1,children:t.options.map((d,u)=>e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{fullWidth:!0,label:`Option ${u+1}`,value:d,onChange:F=>w(a,u,F.target.value)})},u))}),e.jsxs(ze,{component:"fieldset",sx:{mt:1},children:[e.jsx(Se,{component:"legend",children:"Correct Answer"}),e.jsx(_e,{row:!0,value:t.correct,onChange:d=>O(a,"correct",d.target.value),children:t.options.map((d,u)=>e.jsx(Fe,{value:d,control:e.jsx($e,{}),label:d||`Option ${u+1}`},u))})]})]})]},a)),e.jsx(y,{variant:"outlined",startIcon:e.jsx(_,{}),onClick:Q,sx:{color:"#0E4C92"},children:"Add Question"})]})]}),s.mode==="Offline"&&e.jsxs(e.Fragment,{children:[e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{fullWidth:!0,label:"Trainer Name",value:s.trainer,onChange:t=>r({...s,trainer:t.target.value})})}),e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{type:"date",fullWidth:!0,label:"Training Date",InputLabelProps:{shrink:!0},value:s.date,onChange:t=>r({...s,date:t.target.value})})}),e.jsx(x,{item:!0,xs:6,children:e.jsx(p,{fullWidth:!0,type:"number",label:"Duration (Hours)",value:s.duration,onChange:t=>r({...s,duration:t.target.value})})})]})]})}),e.jsxs(X,{children:[e.jsx(y,{variant:"outlined",onClick:C,color:"error",children:"Cancel"}),e.jsx(y,{variant:"outlined",onClick:I,sx:{color:"#0E4C92"},children:"Save"})]})]}),e.jsxs(Z,{open:E,onClose:T,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(J,{children:["Quiz: ",z]}),e.jsx(K,{dividers:!0,children:g.length>0?g.map((t,a)=>e.jsxs(B,{mb:2,p:1,border:"1px solid #ccc",borderRadius:2,children:[e.jsxs(b,{variant:"subtitle1",children:["Q",a+1,": ",t.question]}),e.jsx("ul",{children:t.options.map((d,u)=>e.jsxs("li",{children:[d," ",d===t.correct&&e.jsx("b",{children:"(Correct)"})]},u))})]},a)):e.jsx(b,{children:"No quiz questions available."})}),e.jsx(X,{children:e.jsx(y,{onClick:T,children:"Close"})})]})]})};export{zt as default};
