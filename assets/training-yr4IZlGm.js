import{r as x,j as e}from"./index-DeCPM1YT.js";import{B as b,C as _,T as u,a as J,b as K,c as f,d as l,e as X}from"./TableRow-Cd9L6edy.js";import{C as Y}from"./CardContent-DuW-pjc9.js";import{B as c}from"./Button-i0LS_vGv.js";import{A as N}from"./Add-C6u5IBut.js";import{V as C}from"./Visibility-C31cYtGb.js";import{I as j}from"./IconButton-oK9S63L7.js";import{E as Z}from"./Edit-DGiN9sfY.js";import{D as ee}from"./Delete-PXtfudQB.js";import{D as S,a as U,b as k,c as F}from"./DialogTitle-D5MRwTrG.js";import{C as q}from"./Close-DenZmEgU.js";import{G as r}from"./Grid-DCJmtdp8.js";import{T as d}from"./TextField-RAEaaxPg.js";import{M as Q}from"./MenuItem-BBKtsJ_f.js";import{A as te,a as se,b as ie}from"./AccordionSummary-Vh4ndSVq.js";import{E as ne}from"./ExpandMore-BjBxeS2K.js";import{F as le,a as re}from"./InputLabel-uQorTdpH.js";import{R as ae,a as oe}from"./RadioGroup-DZMueATw.js";import{F as de}from"./FormControlLabel-D3Z3CSGr.js";import"./clsx-B-dksMZM.js";import"./ButtonBase-Cikulz_k.js";import"./TransitionGroupContext-CNIvG2Vj.js";import"./Modal-CUDL2x5c.js";import"./Transition-B84HZYJ-.js";import"./isMuiElement-DPWNH1dL.js";import"./Select-B0BFEktc.js";import"./index-DeXogL32.js";import"./dividerClasses-ifTG4Um1.js";import"./Collapse-CI6k5Tak.js";import"./SwitchBase-DtxWgrp7.js";import"./FormGroup-SJcGcIPN.js";const Be=()=>{const[h,p]=x.useState([]),[P,y]=x.useState(!1),[g,v]=x.useState(null),[w,z]=x.useState(!1),[D,E]=x.useState([]),[R,O]=x.useState(""),[s,n]=x.useState({mode:"Online",name:"",site:"",trade:"",language:"EN",videoUrl:"",documentsUrl:"",description:"",validityDays:30,quizQuestions:[],trainer:"",date:"",duration:"",attendees:""}),V=[{code:"EN",label:"English"},{code:"HI",label:"Hindi"},{code:"OD",label:"Odia"},{code:"BN",label:"Bengali"},{code:"TA",label:"Tamil"},{code:"MR",label:"Marathi"}],T=(t=null,i=null)=>{t?(n(t),v(i)):(n({mode:"Online",name:"",site:"",trade:"",language:"EN",videoUrl:"",documentsUrl:"",description:"",validityDays:30,quizQuestions:[],trainer:"",date:"",duration:"",attendees:""}),v(null)),y(!0)},m=()=>{y(!1),n({mode:"Online",name:"",site:"",trade:"",language:"EN",videoUrl:"",documentsUrl:"",description:"",validityDays:30,quizQuestions:[],trainer:"",date:"",duration:"",attendees:""}),v(null)},B=()=>{if(g!==null){const t=[...h];t[g]=s,p(t)}else p([...h,s]);m()},I=t=>{const i=[...h];i.splice(t,1),p(i)},L=()=>{n({...s,quizQuestions:[...s.quizQuestions,{question:"",options:["","","",""],correct:""}]})},W=(t,i,a)=>{const o=[...s.quizQuestions];o[t][i]=a,n({...s,quizQuestions:o})},M=(t,i,a)=>{const o=[...s.quizQuestions];o[t].options[i]=a,n({...s,quizQuestions:o})},H=t=>{const i=[...s.quizQuestions];i.splice(t,1),n({...s,quizQuestions:i})},G=t=>{E(t.quizQuestions||[]),O(t.name),z(!0)},A=()=>{z(!1),E([]),O("")};return e.jsxs(b,{p:3,children:[e.jsx(_,{sx:{borderLeft:"6px solid #082A52",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",borderRadius:2},children:e.jsxs(Y,{children:[e.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsx(u,{variant:"h6",children:"Training Programs"}),e.jsx(c,{startIcon:e.jsx(N,{}),onClick:()=>T(),sx:{color:"#0E4C92"},children:"Add Program"})]}),e.jsxs(J,{children:[e.jsx(K,{sx:{background:"#E3EAFD"},children:e.jsxs(f,{children:[e.jsx(l,{children:"Mode"}),e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Site"}),e.jsx(l,{children:"Trade"}),e.jsx(l,{children:"Language"}),e.jsx(l,{children:"Details"}),e.jsx(l,{children:"Validity"}),e.jsx(l,{children:"Quiz"}),e.jsx(l,{children:"Actions"})]})}),e.jsxs(X,{children:[h.map((t,i)=>e.jsxs(f,{children:[e.jsx(l,{children:t.mode}),e.jsx(l,{children:t.name}),e.jsx(l,{children:t.site}),e.jsx(l,{children:t.trade}),e.jsx(l,{children:t.language}),e.jsx(l,{children:t.mode==="Online"?e.jsxs(e.Fragment,{children:[t.videoUrl?e.jsx(c,{variant:"outlined",size:"small",startIcon:e.jsx(C,{}),sx:{color:"#7267EF",borderColor:"#7267EF"},href:t.videoUrl,target:"_blank",rel:"noopener noreferrer",children:"Video"}):"No Video"," | ",t.documentsUrl?e.jsx(c,{variant:"outlined",size:"small",startIcon:e.jsx(C,{}),sx:{color:"#28a745",borderColor:"#28a745"},href:t.documentsUrl,target:"_blank",rel:"noopener noreferrer",children:"Docs"}):"No Docs"]}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{variant:"body2",children:["Trainer: ",t.trainer||"-"]}),e.jsxs(u,{variant:"body2",children:["Date: ",t.date||"-"]}),e.jsxs(u,{variant:"body2",children:["Duration: ",t.duration||"-"," hrs"]})]})}),e.jsx(l,{children:t.mode==="Online"?t.validityDays:"N/A"}),e.jsx(l,{children:t.mode==="Online"&&t.quizQuestions&&t.quizQuestions.length>0?e.jsx(c,{variant:"outlined",size:"small",startIcon:e.jsx(C,{}),onClick:()=>G(t),sx:{color:"#0E4C92"},children:"View Quiz"}):e.jsx(u,{variant:"body2",color:"textSecondary",children:t.mode==="Online"?"No quiz":"N/A"})}),e.jsxs(l,{children:[e.jsx(j,{color:"primary",onClick:()=>T(t,i),children:e.jsx(Z,{})}),e.jsx(j,{color:"error",onClick:()=>I(i),children:e.jsx(ee,{})})]})]},i)),h.length===0&&e.jsx(f,{children:e.jsx(l,{colSpan:9,align:"center",children:"No training programs added yet."})})]})]})]})}),e.jsxs(S,{open:P,onClose:m,maxWidth:"md",fullWidth:!0,children:[e.jsxs(U,{sx:{background:"#0E4C92",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g!==null?"Edit Program":"Add Program",e.jsx(j,{onClick:m,sx:{color:"#fff"},children:e.jsx(q,{})})]}),e.jsx(k,{children:e.jsxs(r,{container:!0,spacing:2,mt:1,children:[e.jsx(r,{item:!0,xs:12,children:e.jsxs(d,{select:!0,fullWidth:!0,label:"Training Mode",value:s.mode,onChange:t=>n({...s,mode:t.target.value}),children:[e.jsx(Q,{value:"Online",children:"Online"}),e.jsx(Q,{value:"Offline",children:"Offline"})]})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(d,{fullWidth:!0,label:"Program Name",value:s.name,onChange:t=>n({...s,name:t.target.value})})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{fullWidth:!0,label:"Site",value:s.site,onChange:t=>n({...s,site:t.target.value})})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{fullWidth:!0,label:"Trade",value:s.trade,onChange:t=>n({...s,trade:t.target.value})})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{select:!0,fullWidth:!0,label:"Language",value:s.language,onChange:t=>n({...s,language:t.target.value}),children:V.map(t=>e.jsx(Q,{value:t.code,children:t.label},t.code))})}),s.mode==="Online"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{fullWidth:!0,label:"Video URL",value:s.videoUrl,onChange:t=>n({...s,videoUrl:t.target.value})})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{fullWidth:!0,label:"Documents URL",value:s.documentsUrl,onChange:t=>n({...s,documentsUrl:t.target.value})})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{type:"number",fullWidth:!0,label:"Validity (Days)",value:s.validityDays,onChange:t=>n({...s,validityDays:t.target.value})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(d,{multiline:!0,rows:3,fullWidth:!0,label:"Description",value:s.description,onChange:t=>n({...s,description:t.target.value})})}),e.jsxs(r,{item:!0,xs:12,children:[e.jsx(u,{variant:"subtitle1",mb:1,children:"Quiz Questions"}),s.quizQuestions.map((t,i)=>e.jsxs(te,{sx:{mb:1},children:[e.jsx(se,{expandIcon:e.jsx(ne,{}),children:t.question||`Question ${i+1}`}),e.jsxs(ie,{children:[e.jsx(j,{size:"small",color:"error",onClick:()=>H(i),sx:{float:"right",mb:1},children:e.jsx(q,{})}),e.jsx(d,{fullWidth:!0,label:"Question Text",value:t.question,onChange:a=>W(i,"question",a.target.value),margin:"dense"}),e.jsx(r,{container:!0,spacing:1,mt:1,children:t.options.map((a,o)=>e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{fullWidth:!0,label:`Option ${o+1}`,value:a,onChange:$=>M(i,o,$.target.value)})},o))}),e.jsxs(le,{component:"fieldset",sx:{mt:1},children:[e.jsx(re,{component:"legend",children:"Correct Answer"}),e.jsx(ae,{row:!0,value:t.correct,onChange:a=>W(i,"correct",a.target.value),children:t.options.map((a,o)=>e.jsx(de,{value:a,control:e.jsx(oe,{}),label:a||`Option ${o+1}`},o))})]})]})]},i)),e.jsx(c,{variant:"outlined",startIcon:e.jsx(N,{}),onClick:L,sx:{color:"#0E4C92"},children:"Add Question"})]})]}),s.mode==="Offline"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{fullWidth:!0,label:"Trainer Name",value:s.trainer,onChange:t=>n({...s,trainer:t.target.value})})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{type:"date",fullWidth:!0,label:"Training Date",InputLabelProps:{shrink:!0},value:s.date,onChange:t=>n({...s,date:t.target.value})})}),e.jsx(r,{item:!0,xs:6,children:e.jsx(d,{fullWidth:!0,type:"number",label:"Duration (Hours)",value:s.duration,onChange:t=>n({...s,duration:t.target.value})})})]})]})}),e.jsxs(F,{children:[e.jsx(c,{variant:"outlined",onClick:m,color:"error",children:"Cancel"}),e.jsx(c,{variant:"outlined",onClick:B,sx:{color:"#0E4C92"},children:"Save"})]})]}),e.jsxs(S,{open:w,onClose:A,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(U,{children:["Quiz: ",R]}),e.jsx(k,{dividers:!0,children:D.length>0?D.map((t,i)=>e.jsxs(b,{mb:2,p:1,border:"1px solid #ccc",borderRadius:2,children:[e.jsxs(u,{variant:"subtitle1",children:["Q",i+1,": ",t.question]}),e.jsx("ul",{children:t.options.map((a,o)=>e.jsxs("li",{children:[a," ",a===t.correct&&e.jsx("b",{children:"(Correct)"})]},o))})]},i)):e.jsx(u,{children:"No quiz questions available."})}),e.jsx(F,{children:e.jsx(c,{onClick:A,children:"Close"})})]})]})};export{Be as default};
